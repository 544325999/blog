/*!
 * Datetimepicker for Bootstrap
 * Copyright 2012 Stefan Petre
 * Licensed under the Apache License v2.0
 */
!function(cW){function dD(){return new Date(Date.UTC.apply(Date,arguments))}var ga=function(dD,ga){var cG=this;this.element=cW(dD),this.language=(ga.language||this.element.data("date-language")||(cW.zui&&cW.zui.clientLang?cW.zui.clientLang().replace("_","-"):"zh-cn")).toLowerCase(),this.language=this.language in fU?this.language:"en",this.isRTL=fU[this.language].rtl||!1,this.formatType=ga.formatType||this.element.data("format-type")||"standard",this.format=dT.parseFormat(ga.format||this.element.data("date-format")||fU[this.language].format||dT.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".input-group-addon .icon-th, .input-group-addon .icon-time, .input-group-addon .icon-calendar").parent(),this.componentReset=!!this.element.is(".date")&&this.element.find(".input-group-addon .icon-remove").parent(),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=ga.linkField||this.element.data("link-field")||!1,this.linkFormat=dT.parseFormat(ga.linkFormat||this.element.data("link-format")||dT.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=ga.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=ga.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=ga.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=ga.initialDate||new Date,this.pickerClass=ga.eleClass,this.pickerId=ga.eleId,this._attachEvents(),this.formatViewType="datetime","formatViewType"in ga?this.formatViewType=ga.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in ga?this.minView=ga.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=dT.convertViewMode(this.minView),this.maxView=dT.modes.length-1,"maxView"in ga?this.maxView=ga.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=dT.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in ga?this.wheelViewModeNavigation=ga.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in ga?this.wheelViewModeNavigationInverseDirection=ga.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in ga?this.wheelViewModeNavigationDelay=ga.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in ga?this.startViewMode=ga.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=dT.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in ga?this.viewSelect=ga.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=dT.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in ga?this.forceParse=ga.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=cW(dT.template).appendTo(this.isInline?this.element:"body").on({click:cW.proxy(this.click,this),mousedown:cW.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(cW.fn.mousewheel?this.picker.on({mousewheel:cW.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL&&(this.picker.addClass("datetimepicker-rtl"),this.picker.find(".prev span, .next span").toggleClass("icon-arrow-left icon-arrow-right")),cW(document).on("mousedown",function(dD){0===cW(dD.target).closest(".datetimepicker").length&&cG.hide()}),this.autoclose=!1,"autoclose"in ga?this.autoclose=ga.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in ga?this.keyboardNavigation=ga.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=ga.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=ga.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(ga.weekStart||this.element.data("date-weekstart")||fU[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-(1/0),this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(ga.startDate||this.element.data("date-startdate")),this.setEndDate(ga.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(ga.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};ga.prototype={constructor:ga,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:cW.proxy(this.show,this),keyup:cW.proxy(this.update,this),keydown:cW.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:cW.proxy(this.show,this),keyup:cW.proxy(this.update,this),keydown:cW.proxy(this.keydown,this)}],[this.component,{click:cW.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:cW.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:cW.proxy(this.show,this)}]];for(var dD,ga,fU=0;fU<this._events.length;fU++)dD=this._events[fU][0],ga=this._events[fU][1],dD.on(ga)},_detachEvents:function(){for(var cW,dD,ga=0;ga<this._events.length;ga++)cW=this._events[ga][0],dD=this._events[ga][1],cW.off(dD);this._events=[]},show:function(dD){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),cW(window).on("resize",cW.proxy(this.place,this)),dD&&(dD.stopPropagation(),dD.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(dD){this.isVisible&&(this.isInline||(this.picker.hide(),cW(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||cW(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var cW=this.getUTCDate();return new Date(cW.getTime()+6e4*cW.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(cW){this.setUTCDate(new Date(cW.getTime()-6e4*cW.getTimezoneOffset()))},setUTCDate:function(cW){cW>=this.startDate&&cW<=this.endDate?(this.date=cW,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:cW,startDate:this.startDate,endDate:this.endDate})},setFormat:function(cW){this.format=dT.parseFormat(cW,this.formatType);var dD;this.isInput?dD=this.element:this.component&&(dD=this.element.find("input")),dD&&dD.val()&&this.setValue()},setValue:function(){var dD=this.getFormattedDate();this.isInput?this.element.val(dD):(this.component&&this.element.find("input").val(dD),this.element.data("date",dD)),this.linkField&&cW("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(cW){return void 0==cW&&(cW=this.format),dT.formatDate(this.date,cW,this.language,this.formatType)},setStartDate:function(cW){this.startDate=cW||-(1/0),this.startDate!==-(1/0)&&(this.startDate=dT.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(cW){this.endDate=cW||1/0,this.endDate!==1/0&&(this.endDate=dT.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(dD){this.daysOfWeekDisabled=dD||[],cW.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=cW.map(this.daysOfWeekDisabled,function(cW){return parseInt(cW,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var dD=0;cW("div").each(function(){var ga=parseInt(cW(this).css("zIndex"),10);ga>dD&&(dD=ga)});var ga,fU,dT,cG=dD+10;this.component?(ga=this.component.offset(),dT=ga.left,"bottom-left"!==this.pickerPosition&&"top-left"!==this.pickerPosition&&"auto-left"!==this.pickerPosition||(dT+=this.component.outerWidth()-this.picker.outerWidth())):(ga=this.element.offset(),dT=ga.left);var aL=0===this.pickerPosition.indexOf("auto-"),fO=aL?(ga.top+this.picker.outerHeight()>cW(window).height()+cW(window).scrollTop()?"top":"bottom")+(0===this.pickerPosition.lastIndexOf("-left")?"-left":"-right"):this.pickerPosition;fU="top-left"===fO||"top-right"===fO?ga.top-this.picker.outerHeight():ga.top+this.height,this.picker.css({top:fU,left:dT,zIndex:cG}).attr("class","datetimepicker dropdown-menu datetimepicker-dropdown-"+fO),this.pickerClass&&this.picker.addClass(this.pickerClass),this.pickerId&&this.picker.attr("id",this.pickerId)}},update:function(){var cW,dD=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(cW=arguments[0],dD=!0):(cW=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate,("string"==typeof cW||cW instanceof String)&&(cW=cW.replace(/^\s+|\s+$/g,""))),cW||(cW=new Date,dD=!1),this.date=dT.parseDate(cW,this.format,this.language,this.formatType),dD&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var cW=this.weekStart,dD="<tr>";cW<this.weekStart+7;)dD+='<th class="dow">'+fU[this.language].daysMin[cW++%7]+"</th>";dD+="</tr>",this.picker.find(".datetimepicker-days thead").append(dD)},fillMonths:function(){for(var cW="",dD=0;dD<12;)cW+='<span class="month">'+fU[this.language].monthsShort[dD++]+"</span>";this.picker.find(".datetimepicker-months td").html(cW)},fill:function(){if(null!=this.date&&null!=this.viewDate){var ga=new Date(this.viewDate),cG=ga.getUTCFullYear(),aL=ga.getUTCMonth(),fO=ga.getUTCDate(),gE=ga.getUTCHours(),fg=ga.getUTCMinutes(),aA=this.startDate!==-(1/0)?this.startDate.getUTCFullYear():-(1/0),bh=this.startDate!==-(1/0)?this.startDate.getUTCMonth():-(1/0),ce=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,bV=this.endDate!==1/0?this.endDate.getUTCMonth():1/0,eQ=new dD(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),cc=new Date;if(this.picker.find(".datetimepicker-days thead th:eq(1)").text(fU[this.language].months[aL]+" "+cG),"time"==this.formatViewType){var gT=gE%12?gE%12:12,ag=(gT<10?"0":"")+gT,cA=(fg<10?"0":"")+fg,bF=fU[this.language].meridiem[gE<12?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(ag+":"+cA+" "+bF.toUpperCase()),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(ag+":"+cA+" "+bF.toUpperCase())}else this.picker.find(".datetimepicker-hours thead th:eq(1)").text(fO+" "+fU[this.language].months[aL]+" "+cG),this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(fO+" "+fU[this.language].months[aL]+" "+cG);this.picker.find("tfoot th.today").text(fU[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var gI=dD(cG,aL-1,28,0,0,0,0),gX=dT.getDaysInMonth(gI.getUTCFullYear(),gI.getUTCMonth());gI.setUTCDate(gX),gI.setUTCDate(gX-(gI.getUTCDay()-this.weekStart+7)%7);var ad=new Date(gI);ad.setUTCDate(ad.getUTCDate()+42),ad=ad.valueOf();for(var hc,eA=[];gI.valueOf()<ad;)gI.getUTCDay()==this.weekStart&&eA.push("<tr>"),hc="",gI.getUTCFullYear()<cG||gI.getUTCFullYear()==cG&&gI.getUTCMonth()<aL?hc+=" old":(gI.getUTCFullYear()>cG||gI.getUTCFullYear()==cG&&gI.getUTCMonth()>aL)&&(hc+=" new"),this.todayHighlight&&gI.getUTCFullYear()==cc.getFullYear()&&gI.getUTCMonth()==cc.getMonth()&&gI.getUTCDate()==cc.getDate()&&(hc+=" today"),gI.valueOf()==eQ&&(hc+=" active"),(gI.valueOf()+864e5<=this.startDate||gI.valueOf()>this.endDate||cW.inArray(gI.getUTCDay(),this.daysOfWeekDisabled)!==-1)&&(hc+=" disabled"),eA.push('<td class="day'+hc+'">'+gI.getUTCDate()+"</td>"),gI.getUTCDay()==this.weekEnd&&eA.push("</tr>"),gI.setUTCDate(gI.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(eA.join("")),eA=[];for(var cF="",eG="",ee="",cWcW=0;cWcW<24;cWcW++){var dDcW=dD(cG,aL,fO,cWcW);hc="",dDcW.valueOf()+36e5<=this.startDate||dDcW.valueOf()>this.endDate?hc+=" disabled":gE==cWcW&&(hc+=" active"),this.showMeridian&&2==fU[this.language].meridiem.length?(eG=cWcW<12?fU[this.language].meridiem[0]:fU[this.language].meridiem[1],eG!=ee&&(""!=ee&&eA.push("</fieldset>"),eA.push('<fieldset class="hour"><legend>'+eG.toUpperCase()+"</legend>")),ee=eG,cF=cWcW%12?cWcW%12:12,eA.push('<span class="hour'+hc+" hour_"+(cWcW<12?"am":"pm")+'">'+cF+"</span>"),23==cWcW&&eA.push("</fieldset>")):(cF=cWcW+":00",eA.push('<span class="hour'+hc+'">'+cF+"</span>"))}this.picker.find(".datetimepicker-hours td").html(eA.join("")),eA=[],cF="",eG="",ee="";for(var cWcW=0;cWcW<60;cWcW+=this.minuteStep){var dDcW=dD(cG,aL,fO,gE,cWcW,0);hc="",dDcW.valueOf()<this.startDate||dDcW.valueOf()>this.endDate?hc+=" disabled":Math.floor(fg/this.minuteStep)==Math.floor(cWcW/this.minuteStep)&&(hc+=" active"),this.showMeridian&&2==fU[this.language].meridiem.length?(eG=gE<12?fU[this.language].meridiem[0]:fU[this.language].meridiem[1],eG!=ee&&(""!=ee&&eA.push("</fieldset>"),eA.push('<fieldset class="minute"><legend>'+eG.toUpperCase()+"</legend>")),ee=eG,cF=gE%12?gE%12:12,eA.push('<span class="minute'+hc+'">'+cF+":"+(cWcW<10?"0"+cWcW:cWcW)+"</span>"),59==cWcW&&eA.push("</fieldset>")):(cF=cWcW+":00",eA.push('<span class="minute'+hc+'">'+gE+":"+(cWcW<10?"0"+cWcW:cWcW)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(eA.join(""));var gacW=this.date.getUTCFullYear(),fUcW=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(cG).end().find("span").removeClass("active");gacW==cG&&fUcW.eq(this.date.getUTCMonth()).addClass("active"),(cG<aA||cG>ce)&&fUcW.addClass("disabled"),cG==aA&&fUcW.slice(0,bh).addClass("disabled"),cG==ce&&fUcW.slice(bV+1).addClass("disabled"),eA="",cG=10*parseInt(cG/10,10);var dTcW=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(cG+"-"+(cG+9)).end().find("td");cG-=1;for(var cWcW=-1;cWcW<11;cWcW++)eA+='<span class="year'+(cWcW==-1||10==cWcW?" old":"")+(gacW==cG?" active":"")+(cG<aA||cG>ce?" disabled":"")+'">'+cG+"</span>",cG+=1;dTcW.html(eA),this.place()}},updateNavArrows:function(){var cW=new Date(this.viewDate),dD=cW.getUTCFullYear(),ga=cW.getUTCMonth(),fU=cW.getUTCDate(),dT=cW.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-(1/0)&&dD<=this.startDate.getUTCFullYear()&&ga<=this.startDate.getUTCMonth()&&fU<=this.startDate.getUTCDate()&&dT<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&dD>=this.endDate.getUTCFullYear()&&ga>=this.endDate.getUTCMonth()&&fU>=this.endDate.getUTCDate()&&dT>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-(1/0)&&dD<=this.startDate.getUTCFullYear()&&ga<=this.startDate.getUTCMonth()&&fU<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&dD>=this.endDate.getUTCFullYear()&&ga>=this.endDate.getUTCMonth()&&fU>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-(1/0)&&dD<=this.startDate.getUTCFullYear()&&ga<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&dD>=this.endDate.getUTCFullYear()&&ga>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-(1/0)&&dD<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&dD>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(dD){if(dD.preventDefault(),dD.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var ga=dD.originalEvent,fU=ga.wheelDelta,dT=fU>0?1:0===fU?0:-1;this.wheelViewModeNavigationInverseDirection&&(dT=-dT),this.showMode(dT),setTimeout(cW.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(ga){ga.stopPropagation(),ga.preventDefault();var fU=cW(ga.target).closest("span, td, th, legend");if(1==fU.length){if(fU.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(fU[0].nodeName.toLowerCase()){case"th":switch(fU[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var cG=dT.modes[this.viewMode].navStep*("prev"==fU[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,cG);break;case 1:this.viewDate=this.moveDate(this.viewDate,cG);break;case 2:this.viewDate=this.moveMonth(this.viewDate,cG);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,cG)}this.fill();break;case"today":var aL=new Date;aL=dD(aL.getFullYear(),aL.getMonth(),aL.getDate(),aL.getHours(),aL.getMinutes(),aL.getSeconds(),0),aL<this.startDate?aL=this.startDate:aL>this.endDate&&(aL=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(aL),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!fU.is(".disabled")){var fO=this.viewDate.getUTCFullYear(),gE=this.viewDate.getUTCMonth(),fg=this.viewDate.getUTCDate(),aA=this.viewDate.getUTCHours(),bh=this.viewDate.getUTCMinutes(),ce=this.viewDate.getUTCSeconds();if(fU.is(".month")?(this.viewDate.setUTCDate(1),gE=fU.parent().find("span").index(fU),fg=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(gE),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(dD(fO,gE,fg,aA,bh,ce,0))):fU.is(".year")?(this.viewDate.setUTCDate(1),fO=parseInt(fU.text(),10)||0,this.viewDate.setUTCFullYear(fO),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(dD(fO,gE,fg,aA,bh,ce,0))):fU.is(".hour")?(aA=parseInt(fU.text(),10)||0,(fU.hasClass("hour_am")||fU.hasClass("hour_pm"))&&(12==aA&&fU.hasClass("hour_am")?aA=0:12!=aA&&fU.hasClass("hour_pm")&&(aA+=12)),this.viewDate.setUTCHours(aA),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(dD(fO,gE,fg,aA,bh,ce,0))):fU.is(".minute")&&(bh=parseInt(fU.text().substr(fU.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(bh),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(dD(fO,gE,fg,aA,bh,ce,0))),0!=this.viewMode){var bV=this.viewMode;this.showMode(-1),this.fill(),bV==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(fU.is(".day")&&!fU.is(".disabled")){var fg=parseInt(fU.text(),10)||1,fO=this.viewDate.getUTCFullYear(),gE=this.viewDate.getUTCMonth(),aA=this.viewDate.getUTCHours(),bh=this.viewDate.getUTCMinutes(),ce=this.viewDate.getUTCSeconds();fU.is(".old")?0===gE?(gE=11,fO-=1):gE-=1:fU.is(".new")&&(11==gE?(gE=0,fO+=1):gE+=1),this.viewDate.setUTCFullYear(fO),this.viewDate.setUTCMonth(gE,fg),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(dD(fO,gE,fg,aA,bh,ce,0))}var bV=this.viewMode;this.showMode(-1),this.fill(),bV==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(cW,dD){dD&&"date"!=dD||(this.date=cW),dD&&"view"!=dD||(this.viewDate=cW),this.fill(),this.setValue();var ga;this.isInput?ga=this.element:this.component&&(ga=this.element.find("input")),ga&&(ga.change(),this.autoclose&&(!dD||"date"==dD)),this.element.trigger({type:"changeDate",date:this.date}),null===cW&&(this.date=this.viewDate)},moveMinute:function(cW,dD){if(!dD)return cW;var ga=new Date(cW.valueOf());return ga.setUTCMinutes(ga.getUTCMinutes()+dD*this.minuteStep),ga},moveHour:function(cW,dD){if(!dD)return cW;var ga=new Date(cW.valueOf());return ga.setUTCHours(ga.getUTCHours()+dD),ga},moveDate:function(cW,dD){if(!dD)return cW;var ga=new Date(cW.valueOf());return ga.setUTCDate(ga.getUTCDate()+dD),ga},moveMonth:function(cW,dD){if(!dD)return cW;var ga,fU,dT=new Date(cW.valueOf()),cG=dT.getUTCDate(),aL=dT.getUTCMonth(),fO=Math.abs(dD);if(dD=dD>0?1:-1,1==fO)fU=dD==-1?function(){return dT.getUTCMonth()==aL}:function(){return dT.getUTCMonth()!=ga},ga=aL+dD,dT.setUTCMonth(ga),(ga<0||ga>11)&&(ga=(ga+12)%12);else{for(var gE=0;gE<fO;gE++)dT=this.moveMonth(dT,dD);ga=dT.getUTCMonth(),dT.setUTCDate(cG),fU=function(){return ga!=dT.getUTCMonth()}}for(;fU();)dT.setUTCDate(--cG),dT.setUTCMonth(ga);return dT},moveYear:function(cW,dD){return this.moveMonth(cW,12*dD)},dateWithinRange:function(cW){return cW>=this.startDate&&cW<=this.endDate},keydown:function(cW){if(this.picker.is(":not(:visible)"))return void(27==cW.keyCode&&this.show());var dD,ga,fU,dT=!1;switch(cW.keyCode){case 27:this.hide(),cW.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;dD=37==cW.keyCode?-1:1,viewMode=this.viewMode,cW.ctrlKey?viewMode+=2:cW.shiftKey&&(viewMode+=1),4==viewMode?(ga=this.moveYear(this.date,dD),fU=this.moveYear(this.viewDate,dD)):3==viewMode?(ga=this.moveMonth(this.date,dD),fU=this.moveMonth(this.viewDate,dD)):2==viewMode?(ga=this.moveDate(this.date,dD),fU=this.moveDate(this.viewDate,dD)):1==viewMode?(ga=this.moveHour(this.date,dD),fU=this.moveHour(this.viewDate,dD)):0==viewMode&&(ga=this.moveMinute(this.date,dD),fU=this.moveMinute(this.viewDate,dD)),this.dateWithinRange(ga)&&(this.date=ga,this.viewDate=fU,this.setValue(),this.update(),cW.preventDefault(),dT=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;dD=38==cW.keyCode?-1:1,viewMode=this.viewMode,cW.ctrlKey?viewMode+=2:cW.shiftKey&&(viewMode+=1),4==viewMode?(ga=this.moveYear(this.date,dD),fU=this.moveYear(this.viewDate,dD)):3==viewMode?(ga=this.moveMonth(this.date,dD),fU=this.moveMonth(this.viewDate,dD)):2==viewMode?(ga=this.moveDate(this.date,7*dD),fU=this.moveDate(this.viewDate,7*dD)):1==viewMode?this.showMeridian?(ga=this.moveHour(this.date,6*dD),fU=this.moveHour(this.viewDate,6*dD)):(ga=this.moveHour(this.date,4*dD),fU=this.moveHour(this.viewDate,4*dD)):0==viewMode&&(ga=this.moveMinute(this.date,4*dD),fU=this.moveMinute(this.viewDate,4*dD)),this.dateWithinRange(ga)&&(this.date=ga,this.viewDate=fU,this.setValue(),this.update(),cW.preventDefault(),dT=!0);break;case 13:if(0!=this.viewMode){var cG=this.viewMode;this.showMode(-1),this.fill(),cG==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();cW.preventDefault();break;case 9:this.hide()}if(dT){var aL;this.isInput?aL=this.element:this.component&&(aL=this.element.find("input")),aL&&aL.change(),this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(cW){if(cW){var dD=Math.max(0,Math.min(dT.modes.length-1,this.viewMode+cW));dD>=this.minView&&dD<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:dD}),this.viewMode=dD)}this.picker.find(">div").hide().filter(".datetimepicker-"+dT.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(cW){this._setDate(null,"date")}},cW.fn.datetimepicker=function(dD){var fU=Array.apply(null,arguments);return fU.shift(),this.each(function(){var dT=cW(this),cG=dT.data("datetimepicker"),aL="object"==typeof dD&&dD;cG||dT.data("datetimepicker",cG=new ga(this,cW.extend({},cW.fn.datetimepicker.defaults,dT.data(),aL))),"string"==typeof dD&&"function"==typeof cG[dD]&&cG[dD].apply(cG,fU)})},cW.fn.datetimepicker.defaults={pickerPosition:"auto-right"},cW.fn.datetimepicker.Constructor=ga;var fU=cW.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}};fU["zh-cn"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今日",suffix:[],meridiem:[]},fU["zh-tw"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",suffix:[],meridiem:["上午","下午"]};var dT={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(cW){return cW%4===0&&cW%100!==0||cW%400===0},getDaysInMonth:function(cW,dD){return[31,dT.isLeapYear(cW)?29:28,31,30,31,30,31,31,30,31,30,31][dD]},getDefaultFormat:function(cW,dD){if("standard"==cW)return"input"==dD?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==cW)return"input"==dD?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(cW){if("standard"==cW)return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==cW)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(cW,dD){var ga=cW.replace(this.validParts(dD),"\0").split("\0"),fU=cW.match(this.validParts(dD));if(!ga||!ga.length||!fU||0==fU.length)throw new Error("Invalid date format.");return{separators:ga,parts:fU}},parseDate:function(dT,cG,aL,fO){if(dT instanceof Date){var gE=new Date(dT.valueOf()-6e4*dT.getTimezoneOffset());return gE.setMilliseconds(0),gE}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(dT)&&(cG=this.parseFormat("yyyy-mm-dd",fO)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(dT)&&(cG=this.parseFormat("yyyy-mm-dd hh:ii",fO)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(dT)&&(cG=this.parseFormat("yyyy-mm-dd hh:ii:ss",fO)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(dT)){var fg,aA,bh=/([-+]\d+)([dmwy])/,ce=dT.match(/([-+]\d+)([dmwy])/g);dT=new Date;for(var bV=0;bV<ce.length;bV++)switch(fg=bh.exec(ce[bV]),aA=parseInt(fg[1]),fg[2]){case"d":dT.setUTCDate(dT.getUTCDate()+aA);break;case"m":dT=ga.prototype.moveMonth.call(ga.prototype,dT,aA);break;case"w":dT.setUTCDate(dT.getUTCDate()+7*aA);break;case"y":dT=ga.prototype.moveYear.call(ga.prototype,dT,aA)}return dD(dT.getUTCFullYear(),dT.getUTCMonth(),dT.getUTCDate(),dT.getUTCHours(),dT.getUTCMinutes(),dT.getUTCSeconds(),0)}var eQ,cc,fg,ce=dT&&dT.match(this.nonpunctuation)||[],dT=new Date(0,0,0,0,0,0,0),gT={},ag=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],cA={hh:function(cW,dD){return cW.setUTCHours(dD)},h:function(cW,dD){return cW.setUTCHours(dD)},HH:function(cW,dD){return cW.setUTCHours(12==dD?0:dD)},H:function(cW,dD){return cW.setUTCHours(12==dD?0:dD)},ii:function(cW,dD){return cW.setUTCMinutes(dD)},i:function(cW,dD){return cW.setUTCMinutes(dD)},ss:function(cW,dD){return cW.setUTCSeconds(dD)},s:function(cW,dD){return cW.setUTCSeconds(dD)},yyyy:function(cW,dD){return cW.setUTCFullYear(dD)},yy:function(cW,dD){return cW.setUTCFullYear(2e3+dD)},m:function(cW,dD){for(dD-=1;dD<0;)dD+=12;for(dD%=12,cW.setUTCMonth(dD);cW.getUTCMonth()!=dD;)cW.setUTCDate(cW.getUTCDate()-1);return cW},d:function(cW,dD){return cW.setUTCDate(dD)},p:function(cW,dD){return cW.setUTCHours(1==dD?cW.getUTCHours()+12:cW.getUTCHours())}};if(cA.M=cA.MM=cA.mm=cA.m,cA.dd=cA.d,cA.P=cA.p,dT=dD(dT.getFullYear(),dT.getMonth(),dT.getDate(),dT.getHours(),dT.getMinutes(),dT.getSeconds()),ce.length==cG.parts.length){for(var bV=0,bF=cG.parts.length;bV<bF;bV++){if(eQ=parseInt(ce[bV],10),fg=cG.parts[bV],isNaN(eQ))switch(fg){case"MM":cc=cW(fU[aL].months).filter(function(){var cW=this.slice(0,ce[bV].length),dD=ce[bV].slice(0,cW.length);return cW==dD}),eQ=cW.inArray(cc[0],fU[aL].months)+1;break;case"M":cc=cW(fU[aL].monthsShort).filter(function(){var cW=this.slice(0,ce[bV].length),dD=ce[bV].slice(0,cW.length);return cW==dD}),eQ=cW.inArray(cc[0],fU[aL].monthsShort)+1;break;case"p":case"P":eQ=cW.inArray(ce[bV].toLowerCase(),fU[aL].meridiem)}gT[fg]=eQ}for(var gI,bV=0;bV<ag.length;bV++)gI=ag[bV],gI in gT&&!isNaN(gT[gI])&&cA[gI](dT,gT[gI])}return dT},formatDate:function(dD,ga,cG,aL){if(null==dD)return"";var fO;if("standard"==aL)fO={yy:dD.getUTCFullYear().toString().substring(2),yyyy:dD.getUTCFullYear(),m:dD.getUTCMonth()+1,M:fU[cG].monthsShort[dD.getUTCMonth()],MM:fU[cG].months[dD.getUTCMonth()],d:dD.getUTCDate(),D:fU[cG].daysShort[dD.getUTCDay()],DD:fU[cG].days[dD.getUTCDay()],p:2==fU[cG].meridiem.length?fU[cG].meridiem[dD.getUTCHours()<12?0:1]:"",h:dD.getUTCHours(),i:dD.getUTCMinutes(),s:dD.getUTCSeconds()},2==fU[cG].meridiem.length?fO.H=fO.h%12==0?12:fO.h%12:fO.H=fO.h,fO.HH=(fO.H<10?"0":"")+fO.H,fO.P=fO.p.toUpperCase(),fO.hh=(fO.h<10?"0":"")+fO.h,fO.ii=(fO.i<10?"0":"")+fO.i,fO.ss=(fO.s<10?"0":"")+fO.s,fO.dd=(fO.d<10?"0":"")+fO.d,fO.mm=(fO.m<10?"0":"")+fO.m;else{if("php"!=aL)throw new Error("Invalid format type.");fO={y:dD.getUTCFullYear().toString().substring(2),Y:dD.getUTCFullYear(),F:fU[cG].months[dD.getUTCMonth()],M:fU[cG].monthsShort[dD.getUTCMonth()],n:dD.getUTCMonth()+1,t:dT.getDaysInMonth(dD.getUTCFullYear(),dD.getUTCMonth()),j:dD.getUTCDate(),l:fU[cG].days[dD.getUTCDay()],D:fU[cG].daysShort[dD.getUTCDay()],w:dD.getUTCDay(),N:0==dD.getUTCDay()?7:dD.getUTCDay(),S:dD.getUTCDate()%10<=fU[cG].suffix.length?fU[cG].suffix[dD.getUTCDate()%10-1]:"",a:2==fU[cG].meridiem.length?fU[cG].meridiem[dD.getUTCHours()<12?0:1]:"",g:dD.getUTCHours()%12==0?12:dD.getUTCHours()%12,G:dD.getUTCHours(),i:dD.getUTCMinutes(),s:dD.getUTCSeconds()},fO.m=(fO.n<10?"0":"")+fO.n,fO.d=(fO.j<10?"0":"")+fO.j,fO.A=fO.a.toString().toUpperCase(),fO.h=(fO.g<10?"0":"")+fO.g,fO.H=(fO.G<10?"0":"")+fO.G,fO.i=(fO.i<10?"0":"")+fO.i,fO.s=(fO.s<10?"0":"")+fO.s}for(var dD=[],gE=cW.extend([],ga.separators),fg=0,aA=ga.parts.length;fg<aA;fg++)gE.length&&dD.push(gE.shift()),dD.push(fO[ga.parts[fg]]);return gE.length&&dD.push(gE.shift()),dD.join("")},convertViewMode:function(cW){switch(cW){case 4:case"decade":cW=4;break;case 3:case"year":cW=3;break;case 2:case"month":cW=2;break;case 1:case"day":cW=1;break;case 0:case"hour":cW=0}return cW},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};dT.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+dT.headTemplate+dT.contTemplate+dT.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+dT.headTemplate+dT.contTemplate+dT.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+dT.headTemplate+"<tbody></tbody>"+dT.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+dT.headTemplate+dT.contTemplate+dT.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+dT.headTemplate+dT.contTemplate+dT.footTemplate+"</table></div></div>",cW.fn.datetimepicker.DPGlobal=dT,cW.fn.datetimepicker.noConflict=function(){return cW.fn.datetimepicker=old,this},cW(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(dD){var ga=cW(this);ga.data("datetimepicker")||(dD.preventDefault(),ga.datetimepicker("show"))}),cW(function(){cW('[data-provide="datetimepicker-inline"]').datetimepicker()})}(window.jQuery);