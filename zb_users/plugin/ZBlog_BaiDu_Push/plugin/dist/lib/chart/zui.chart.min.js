/*!
 * ZUI: Chart.js - v1.7.0 - 2017-06-17
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2017 cnezsoft.com; Licensed MIT
 */
/*!
 * Chart.js 1.0.2 
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * http://chartjs.org/
 */
(function(dN){"use strict";var bj=dN&&dN.zui?dN.zui:this,dH=(bj.Chart,function(dN){this.canvas=dN.canvas,this.ctx=dN;var bj=function(dN,bj){return dN["offset"+bj]?dN["offset"+bj]:document.defaultView.getComputedStyle(dN).getPropertyValue(bj)},dH=this.width=bj(dN.canvas,"Width"),hb=this.height=bj(dN.canvas,"Height");dN.canvas.width=dH,dN.canvas.height=hb;var dH=this.width=dN.canvas.width,hb=this.height=dN.canvas.height;return this.aspectRatio=this.width/this.height,dE.retinaScale(this),this});dH.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},dH.types={};var dE=dH.helpers={},hb=dE.each=function(dN,bj,dH){var dE=Array.prototype.slice.call(arguments,3);if(dN)if(dN.length===+dN.length){var hb;for(hb=0;hb<dN.length;hb++)bj.apply(dH,[dN[hb],hb].concat(dE))}else for(var fZ in dN)bj.apply(dH,[dN[fZ],fZ].concat(dE))},fZ=dE.clone=function(dN){var bj={};return hb(dN,function(dH,dE){dN.hasOwnProperty(dE)&&(bj[dE]=dH)}),bj},fa=dE.extend=function(dN){return hb(Array.prototype.slice.call(arguments,1),function(bj){hb(bj,function(dH,dE){bj.hasOwnProperty(dE)&&(dN[dE]=dH)})}),dN},ci=dE.merge=function(dN,bj){var dH=Array.prototype.slice.call(arguments,0);return dH.unshift({}),fa.apply(null,dH)},cc=dE.indexOf=function(dN,bj){if(Array.prototype.indexOf)return dN.indexOf(bj);for(var dH=0;dH<dN.length;dH++)if(dN[dH]===bj)return dH;return-1},aP=(dE.where=function(dN,bj){var dH=[];return dE.each(dN,function(dN){bj(dN)&&dH.push(dN)}),dH},dE.findNextWhere=function(dN,bj,dH){dH||(dH=-1);for(var dE=dH+1;dE<dN.length;dE++){var hb=dN[dE];if(bj(hb))return hb}},dE.findPreviousWhere=function(dN,bj,dH){dH||(dH=dN.length);for(var dE=dH-1;dE>=0;dE--){var hb=dN[dE];if(bj(hb))return hb}},dE.inherits=function(dN){var bj=this,dH=dN&&dN.hasOwnProperty("constructor")?dN.constructor:function(){return bj.apply(this,arguments)},dE=function(){this.constructor=dH};return dE.prototype=bj.prototype,dH.prototype=new dE,dH.extend=aP,dN&&fa(dH.prototype,dN),dH.__super__=bj.prototype,dH}),df=dE.noop=function(){},cF=dE.uid=function(){var dN=0;return function(){return"chart-"+dN++}}(),ac=dE.warn=function(dN){window.console&&"function"==typeof window.console.warn&&console.warn(dN)},bb=dE.amd="function"==typeof define&&define.amd,gX=dE.isNumber=function(dN){return!isNaN(parseFloat(dN))&&isFinite(dN)},cX=dE.max=function(dN){return Math.max.apply(Math,dN)},de=dE.min=function(dN){return Math.min.apply(Math,dN)},bc=(dE.cap=function(dN,bj,dH){if(gX(bj)){if(dN>bj)return bj}else if(gX(dH)&&dN<dH)return dH;return dN},dE.getDecimalPlaces=function(dN){return dN%1!==0&&gX(dN)?dN.toString().split(".")[1].length:0}),gR=dE.radians=function(dN){return dN*(Math.PI/180)},aV=(dE.getAngleFromPoint=function(dN,bj){var dH=bj.x-dN.x,dE=bj.y-dN.y,hb=Math.sqrt(dH*dH+dE*dE),fZ=2*Math.PI+Math.atan2(dE,dH);return dH<0&&dE<0&&(fZ+=2*Math.PI),{angle:fZ,distance:hb}},dE.aliasPixel=function(dN){return dN%2===0?0:.5}),ai=(dE.splineCurve=function(dN,bj,dH,dE){var hb=Math.sqrt(Math.pow(bj.x-dN.x,2)+Math.pow(bj.y-dN.y,2)),fZ=Math.sqrt(Math.pow(dH.x-bj.x,2)+Math.pow(dH.y-bj.y,2)),fa=dE*hb/(hb+fZ),ci=dE*fZ/(hb+fZ);return{inner:{x:bj.x-fa*(dH.x-dN.x),y:bj.y-fa*(dH.y-dN.y)},outer:{x:bj.x+ci*(dH.x-dN.x),y:bj.y+ci*(dH.y-dN.y)}}},dE.calculateOrderOfMagnitude=function(dN){return Math.floor(Math.log(dN)/Math.LN10)}),bI=(dE.calculateScaleRange=function(dN,bj,dH,dE,hb){var fZ=2,fa=Math.floor(bj/(1.5*dH)),ci=fZ>=fa,cc=cX(dN),aP=de(dN);cc===aP&&(cc+=.5,aP>=.5&&!dE?aP-=.5:cc+=.5);for(var df=Math.abs(cc-aP),cF=ai(df),ac=Math.ceil(cc/(1*Math.pow(10,cF)))*Math.pow(10,cF),bb=dE?0:Math.floor(aP/(1*Math.pow(10,cF)))*Math.pow(10,cF),gX=ac-bb,bc=Math.pow(10,cF),gR=Math.round(gX/bc);(gR>fa||2*gR<fa)&&!ci;)if(gR>fa)bc*=2,gR=Math.round(gX/bc),gR%1!==0&&(ci=!0);else if(hb&&cF>=0){if(bc/2%1!==0)break;bc/=2,gR=Math.round(gX/bc)}else bc/=2,gR=Math.round(gX/bc);return ci&&(gR=fZ,bc=gX/gR),{steps:gR,stepValue:bc,min:bb,max:bb+gR*bc}},dE.template=function(dN,bj){function dH(dN,bj){var dH=/\W/.test(dN)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+dN.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):dE[dN]=dE[dN];return bj?dH(bj):dH}if(dN instanceof Function)return dN(bj);var dE={};return dH(dN,bj)}),gf=(dE.generateLabels=function(dN,bj,dH,dE){var fZ=new Array(bj);return labelTemplateString&&hb(fZ,function(bj,hb){fZ[hb]=bI(dN,{value:dH+dE*(hb+1)})}),fZ},dE.easingEffects={linear:function(dN){return dN},easeInQuad:function(dN){return dN*dN},easeOutQuad:function(dN){return-1*dN*(dN-2)},easeInOutQuad:function(dN){return(dN/=.5)<1?.5*dN*dN:-.5*(--dN*(dN-2)-1)},easeInCubic:function(dN){return dN*dN*dN},easeOutCubic:function(dN){return 1*((dN=dN/1-1)*dN*dN+1)},easeInOutCubic:function(dN){return(dN/=.5)<1?.5*dN*dN*dN:.5*((dN-=2)*dN*dN+2)},easeInQuart:function(dN){return dN*dN*dN*dN},easeOutQuart:function(dN){return-1*((dN=dN/1-1)*dN*dN*dN-1)},easeInOutQuart:function(dN){return(dN/=.5)<1?.5*dN*dN*dN*dN:-.5*((dN-=2)*dN*dN*dN-2)},easeInQuint:function(dN){return 1*(dN/=1)*dN*dN*dN*dN},easeOutQuint:function(dN){return 1*((dN=dN/1-1)*dN*dN*dN*dN+1)},easeInOutQuint:function(dN){return(dN/=.5)<1?.5*dN*dN*dN*dN*dN:.5*((dN-=2)*dN*dN*dN*dN+2)},easeInSine:function(dN){return-1*Math.cos(dN/1*(Math.PI/2))+1},easeOutSine:function(dN){return 1*Math.sin(dN/1*(Math.PI/2))},easeInOutSine:function(dN){return-.5*(Math.cos(Math.PI*dN/1)-1)},easeInExpo:function(dN){return 0===dN?1:1*Math.pow(2,10*(dN/1-1))},easeOutExpo:function(dN){return 1===dN?1:1*(-Math.pow(2,-10*dN/1)+1)},easeInOutExpo:function(dN){return 0===dN?0:1===dN?1:(dN/=.5)<1?.5*Math.pow(2,10*(dN-1)):.5*(-Math.pow(2,-10*--dN)+2)},easeInCirc:function(dN){return dN>=1?dN:-1*(Math.sqrt(1-(dN/=1)*dN)-1)},easeOutCirc:function(dN){return 1*Math.sqrt(1-(dN=dN/1-1)*dN)},easeInOutCirc:function(dN){return(dN/=.5)<1?-.5*(Math.sqrt(1-dN*dN)-1):.5*(Math.sqrt(1-(dN-=2)*dN)+1)},easeInElastic:function(dN){var bj=1.70158,dH=0,dE=1;return 0===dN?0:1==(dN/=1)?1:(dH||(dH=.3),dE<Math.abs(1)?(dE=1,bj=dH/4):bj=dH/(2*Math.PI)*Math.asin(1/dE),-(dE*Math.pow(2,10*(dN-=1))*Math.sin((1*dN-bj)*(2*Math.PI)/dH)))},easeOutElastic:function(dN){var bj=1.70158,dH=0,dE=1;return 0===dN?0:1==(dN/=1)?1:(dH||(dH=.3),dE<Math.abs(1)?(dE=1,bj=dH/4):bj=dH/(2*Math.PI)*Math.asin(1/dE),dE*Math.pow(2,-10*dN)*Math.sin((1*dN-bj)*(2*Math.PI)/dH)+1)},easeInOutElastic:function(dN){var bj=1.70158,dH=0,dE=1;return 0===dN?0:2==(dN/=.5)?1:(dH||(dH=1*(.3*1.5)),dE<Math.abs(1)?(dE=1,bj=dH/4):bj=dH/(2*Math.PI)*Math.asin(1/dE),dN<1?-.5*(dE*Math.pow(2,10*(dN-=1))*Math.sin((1*dN-bj)*(2*Math.PI)/dH)):dE*Math.pow(2,-10*(dN-=1))*Math.sin((1*dN-bj)*(2*Math.PI)/dH)*.5+1)},easeInBack:function(dN){var bj=1.70158;return 1*(dN/=1)*dN*((bj+1)*dN-bj)},easeOutBack:function(dN){var bj=1.70158;return 1*((dN=dN/1-1)*dN*((bj+1)*dN+bj)+1)},easeInOutBack:function(dN){var bj=1.70158;return(dN/=.5)<1?.5*(dN*dN*(((bj*=1.525)+1)*dN-bj)):.5*((dN-=2)*dN*(((bj*=1.525)+1)*dN+bj)+2)},easeInBounce:function(dN){return 1-gf.easeOutBounce(1-dN)},easeOutBounce:function(dN){return(dN/=1)<1/2.75?1*(7.5625*dN*dN):dN<2/2.75?1*(7.5625*(dN-=1.5/2.75)*dN+.75):dN<2.5/2.75?1*(7.5625*(dN-=2.25/2.75)*dN+.9375):1*(7.5625*(dN-=2.625/2.75)*dN+.984375)},easeInOutBounce:function(dN){return dN<.5?.5*gf.easeInBounce(2*dN):.5*gf.easeOutBounce(2*dN-1)+.5}}),cd=dE.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(dN){return window.setTimeout(dN,1e3/60)}}(),ab=dE.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(dN){return window.clearTimeout(dN,1e3/60)}}(),cQ=(dE.animationLoop=function(dN,bj,dH,dE,hb,fZ){var fa=0,ci=gf[dH]||gf.linear,cc=function(){fa++;var dH=fa/bj,aP=ci(dH);dN.call(fZ,aP,dH,fa),dE.call(fZ,aP,dH),fa<bj?fZ.animationFrame=cd(cc):hb.apply(fZ)};cd(cc)},dE.getRelativePosition=function(dN){var bj,dH,dE=dN.originalEvent||dN,hb=dN.currentTarget||dN.srcElement,fZ=hb.getBoundingClientRect();return dE.touches?(bj=dE.touches[0].clientX-fZ.left,dH=dE.touches[0].clientY-fZ.top):(bj=dE.clientX-fZ.left,dH=dE.clientY-fZ.top),{x:bj,y:dH}},dE.addEvent=function(dN,bj,dH){dN.addEventListener?dN.addEventListener(bj,dH):dN.attachEvent?dN.attachEvent("on"+bj,dH):dN["on"+bj]=dH}),gB=dE.removeEvent=function(dN,bj,dH){dN.removeEventListener?dN.removeEventListener(bj,dH,!1):dN.detachEvent?dN.detachEvent("on"+bj,dH):dN["on"+bj]=df},dNdN=(dE.bindEvents=function(dN,bj,dH){dN.events||(dN.events={}),hb(bj,function(bj){dN.events[bj]=function(){dH.apply(dN,arguments)},cQ(dN.chart.canvas,bj,dN.events[bj])})},dE.unbindEvents=function(dN,bj){hb(bj,function(bj,dH){gB(dN.chart.canvas,dH,bj)})}),bjdN=dE.getMaximumWidth=function(dN){var bj=dN.parentNode;return bj.clientWidth},dHdN=dE.getMaximumHeight=function(dN){var bj=dN.parentNode;return bj.clientHeight},dEdN=(dE.getMaximumSize=dE.getMaximumWidth,dE.retinaScale=function(dN){var bj=dN.ctx,dH=dN.canvas.width,dE=dN.canvas.height;window.devicePixelRatio&&(bj.canvas.style.width=dH+"px",bj.canvas.style.height=dE+"px",bj.canvas.height=dE*window.devicePixelRatio,bj.canvas.width=dH*window.devicePixelRatio,bj.scale(window.devicePixelRatio,window.devicePixelRatio))}),hbdN=dE.clear=function(dN){dN.ctx.clearRect(0,0,dN.width,dN.height)},fZdN=dE.fontString=function(dN,bj,dH){return bj+" "+dN+"px "+dH},fadN=dE.longestText=function(dN,bj,dH){dN.font=bj;var dE=0;return hb(dH,function(bj){var dH=dN.measureText(bj).width;dE=dH>dE?dH:dE}),dE},cidN=dE.drawRoundedRectangle=function(dN,bj,dH,dE,hb,fZ){dN.beginPath(),dN.moveTo(bj+fZ,dH),dN.lineTo(bj+dE-fZ,dH),dN.quadraticCurveTo(bj+dE,dH,bj+dE,dH+fZ),dN.lineTo(bj+dE,dH+hb-fZ),dN.quadraticCurveTo(bj+dE,dH+hb,bj+dE-fZ,dH+hb),dN.lineTo(bj+fZ,dH+hb),dN.quadraticCurveTo(bj,dH+hb,bj,dH+hb-fZ),dN.lineTo(bj,dH+fZ),dN.quadraticCurveTo(bj,dH,bj+fZ,dH),dN.closePath()};dH.instances={},dH.Type=function(dN,bj,dE){this.options=bj,this.chart=dE,this.id=cF(),dH.instances[this.id]=this,bj.responsive&&this.resize(),this.initialize.call(this,dN)},fa(dH.Type.prototype,{initialize:function(){return this},clear:function(){return hbdN(this.chart),this},stop:function(){return ab(this.animationFrame),this},resize:function(dN){this.stop();var bj=this.chart.canvas,dH=bjdN(this.chart.canvas),dE=this.options.maintainAspectRatio?dH/this.chart.aspectRatio:dHdN(this.chart.canvas);return bj.width=this.chart.width=dH,bj.height=this.chart.height=dE,dEdN(this.chart),"function"==typeof dN&&dN.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:df,render:function(dN){return dN&&this.reflow(),this.options.animation&&!dN?dE.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return bI(this.options.legendTemplate,this)},destroy:function(){this.clear(),dNdN(this,this.events);var dN=this.chart.canvas;dN.width=this.chart.width,dN.height=this.chart.height,dN.style.removeProperty?(dN.style.removeProperty("width"),dN.style.removeProperty("height")):(dN.style.removeAttribute("width"),dN.style.removeAttribute("height")),delete dH.instances[this.id]},showTooltip:function(dN,bj){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var fZ=function(dN){var bj=!1;return dN.length!==this.activeElements.length?bj=!0:(hb(dN,function(dN,dH){dN!==this.activeElements[dH]&&(bj=!0)},this),bj)}.call(this,dN);if(fZ||bj){if(this.activeElements=dN,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),dN.length>0)if(this.datasets&&this.datasets.length>1){for(var fa,ci,aP=this.datasets.length-1;aP>=0&&(fa=this.datasets[aP].points||this.datasets[aP].bars||this.datasets[aP].segments,ci=cc(fa,dN[0]),ci===-1);aP--);var df=[],cF=[],ac=function(dN){var bj,dH,hb,fZ,fa,cc=[],aP=[],ac=[];return dE.each(this.datasets,function(dN){dN.showTooltips!==!1&&(bj=dN.points||dN.bars||dN.segments,bj[ci]&&bj[ci].hasValue()&&cc.push(bj[ci]))}),dE.each(cc,function(dN){aP.push(dN.x),ac.push(dN.y),df.push(dE.template(this.options.multiTooltipTemplate,dN)),cF.push({fill:dN._saved.fillColor||dN.fillColor,stroke:dN._saved.strokeColor||dN.strokeColor})},this),fa=de(ac),hb=cX(ac),fZ=de(aP),dH=cX(aP),{x:fZ>this.chart.width/2?fZ:dH,y:(fa+hb)/2}}.call(this,ci);new dH.MultiTooltip({x:ac.x,y:ac.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:df,legendColors:cF,legendColorBackground:this.options.multiTooltipKeyBackground,title:dN[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else hb(dN,function(dN){var bj=dN.tooltipPosition();new dH.Tooltip({x:Math.round(bj.x),y:Math.round(bj.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:bI(this.options.tooltipTemplate,dN),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),dH.Type.extend=function(dN){var bj=this,dE=function(){return bj.apply(this,arguments)};if(dE.prototype=fZ(bj.prototype),fa(dE.prototype,dN),dE.extend=dH.Type.extend,dN.name||bj.prototype.name){var hb=dN.name||bj.prototype.name,cc=dH.defaults[bj.prototype.name]?fZ(dH.defaults[bj.prototype.name]):{};dH.defaults[hb]=fa(cc,dN.defaults),dH.types[hb]=dE,dH.prototype[hb]=function(dN,bj){var fZ=ci(dH.defaults.global,dH.defaults[hb],bj||{});return new dE(dN,fZ,this)}}else ac("Name not provided for this chart, so it hasn't been registered");return bj},dH.Element=function(dN){fa(this,dN),this.initialize.apply(this,arguments),this.save()},fa(dH.Element.prototype,{initialize:function(){},restore:function(dN){return dN?hb(dN,function(dN){this[dN]=this._saved[dN]},this):fa(this,this._saved),this},save:function(){return this._saved=fZ(this),delete this._saved._saved,this},update:function(dN){return hb(dN,function(dN,bj){this._saved[bj]=this[bj],this[bj]=dN},this),this},transition:function(dN,bj){return hb(dN,function(dN,dH){this[dH]=(dN-this._saved[dH])*bj+this._saved[dH]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return gX(this.value)}}),dH.Element.extend=aP,dH.Point=dH.Element.extend({display:!0,inRange:function(dN,bj){var dH=this.hitDetectionRadius+this.radius;return Math.pow(dN-this.x,2)+Math.pow(bj-this.y,2)<Math.pow(dH,2)},draw:function(){if(this.display){var dN=this.ctx;dN.beginPath(),dN.arc(this.x,this.y,this.radius,0,2*Math.PI),dN.closePath(),dN.strokeStyle=this.strokeColor,dN.lineWidth=this.strokeWidth,dN.fillStyle=this.fillColor,dN.fill(),dN.stroke()}}}),dH.Arc=dH.Element.extend({inRange:function(dN,bj){var dH=dE.getAngleFromPoint(this,{x:dN,y:bj}),hb=dH.angle>=this.startAngle&&dH.angle<=this.endAngle,fZ=dH.distance>=this.innerRadius&&dH.distance<=this.outerRadius;return hb&&fZ},tooltipPosition:function(){var dN=this.startAngle+(this.endAngle-this.startAngle)/2,bj=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(dN)*bj,y:this.y+Math.sin(dN)*bj}},draw:function(dN){var bj=this.ctx;bj.beginPath(),bj.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),bj.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),bj.closePath(),bj.strokeStyle=this.strokeColor,bj.lineWidth=this.strokeWidth,bj.fillStyle=this.fillColor,bj.fill(),bj.lineJoin="bevel",this.showStroke&&bj.stroke()}}),dH.Rectangle=dH.Element.extend({draw:function(){var dN=this.ctx,bj=this.width/2,dH=this.x-bj,dE=this.x+bj,hb=this.base-(this.base-this.y),fZ=this.strokeWidth/2;this.showStroke&&(dH+=fZ,dE-=fZ,hb+=fZ),dN.beginPath(),dN.fillStyle=this.fillColor,dN.strokeStyle=this.strokeColor,dN.lineWidth=this.strokeWidth,dN.moveTo(dH,this.base),dN.lineTo(dH,hb),dN.lineTo(dE,hb),dN.lineTo(dE,this.base),dN.fill(),this.showStroke&&dN.stroke()},height:function(){return this.base-this.y},inRange:function(dN,bj){return dN>=this.x-this.width/2&&dN<=this.x+this.width/2&&bj>=this.y&&bj<=this.base}}),dH.Tooltip=dH.Element.extend({draw:function(){var dN=this.chart.ctx;dN.font=fZdN(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var bj=this.caretPadding=2,dH=dN.measureText(this.text).width+2*this.xPadding,dE=this.fontSize+2*this.yPadding,hb=dE+this.caretHeight+bj;this.x+dH/2>this.chart.width?this.xAlign="left":this.x-dH/2<0&&(this.xAlign="right"),this.y-hb<0&&(this.yAlign="below");var fZ=this.x-dH/2,fa=this.y-hb;if(dN.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":dN.beginPath(),dN.moveTo(this.x,this.y-bj),dN.lineTo(this.x+this.caretHeight,this.y-(bj+this.caretHeight)),dN.lineTo(this.x-this.caretHeight,this.y-(bj+this.caretHeight)),dN.closePath(),dN.fill();break;case"below":fa=this.y+bj+this.caretHeight,dN.beginPath(),dN.moveTo(this.x,this.y+bj),dN.lineTo(this.x+this.caretHeight,this.y+bj+this.caretHeight),dN.lineTo(this.x-this.caretHeight,this.y+bj+this.caretHeight),dN.closePath(),dN.fill()}switch(this.xAlign){case"left":fZ=this.x-dH+(this.cornerRadius+this.caretHeight);break;case"right":fZ=this.x-(this.cornerRadius+this.caretHeight)}cidN(dN,fZ,fa,dH,dE,this.cornerRadius),dN.fill(),dN.fillStyle=this.textColor,dN.textAlign="center",dN.textBaseline="middle",dN.fillText(this.text,fZ+dH/2,fa+dE/2)}}}),dH.MultiTooltip=dH.Element.extend({initialize:function(){this.font=fZdN(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=fZdN(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var dN=this.ctx.measureText(this.title).width,bj=fadN(this.ctx,this.font,this.labels)+this.fontSize+3,dH=cX([bj,dN]);this.width=dH+2*this.xPadding;var dE=this.height/2;this.y-dE<0?this.y=dE:this.y+dE>this.chart.height&&(this.y=this.chart.height-dE),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(dN){var bj=this.y-this.height/2+this.yPadding,dH=dN-1;return 0===dN?bj+this.titleFontSize/2:bj+(1.5*this.fontSize*dH+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{cidN(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var dN=this.ctx;dN.fillStyle=this.fillColor,dN.fill(),dN.closePath(),dN.textAlign="left",dN.textBaseline="middle",dN.fillStyle=this.titleTextColor,dN.font=this.titleFont,dN.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),dN.font=this.font,dE.each(this.labels,function(bj,dH){dN.fillStyle=this.textColor,dN.fillText(bj,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(dH+1)),dN.fillStyle=this.legendColorBackground,dN.fillRect(this.x+this.xPadding,this.getLineHeight(dH+1)-this.fontSize/2,this.fontSize,this.fontSize),dN.fillStyle=this.legendColors[dH].fill,dN.fillRect(this.x+this.xPadding,this.getLineHeight(dH+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),dH.Scale=dH.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var dN=bc(this.stepValue),bj=0;bj<=this.steps;bj++)this.yLabels.push(bI(this.templateString,{value:(this.min+bj*this.stepValue).toFixed(dN)}));this.yLabelWidth=this.display&&this.showLabels?fadN(this.ctx,this.font,this.yLabels):0},addXLabel:function(dN){this.xLabels.push(dN),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var dN,bj=this.endPoint-this.startPoint;for(this.calculateYRange(bj),this.buildYLabels(),this.calculateXLabelRotation();bj>this.endPoint-this.startPoint;)bj=this.endPoint-this.startPoint,dN=this.yLabelWidth,this.calculateYRange(bj),this.buildYLabels(),dN<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var dN,bj,dH=this.ctx.measureText(this.xLabels[0]).width,dE=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=dE/2+3,this.xScalePaddingLeft=dH/2>this.yLabelWidth+10?dH/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var hb,fZ=fadN(this.ctx,this.font,this.xLabels);this.xLabelWidth=fZ;for(var fa=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>fa&&0===this.xLabelRotation||this.xLabelWidth>fa&&this.xLabelRotation<=90&&this.xLabelRotation>0;)hb=Math.cos(gR(this.xLabelRotation)),dN=hb*dH,bj=hb*dE,dN+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=dN+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=hb*fZ;this.xLabelRotation>0&&(this.endPoint-=Math.sin(gR(this.xLabelRotation))*fZ+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:df,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(dN){var bj=this.drawingArea()/(this.min-this.max);return this.endPoint-bj*(dN-this.min)},calculateX:function(dN){var bj=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),dH=bj/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),dE=dH*dN+this.xScalePaddingLeft;return this.offsetGridLines&&(dE+=dH/2),Math.round(dE)},update:function(dN){dE.extend(this,dN),this.fit()},draw:function(){var dN=this.ctx,bj=(this.endPoint-this.startPoint)/this.steps,dH=Math.round(this.xScalePaddingLeft);if(this.display){dN.fillStyle=this.textColor,dN.font=this.font;var fZ=this.showBeyondLine?5:0;hb(this.yLabels,function(hb,fa){var ci=this.endPoint-bj*fa,cc=Math.round(ci),aP=this.showHorizontalLines;dN.textAlign="right",dN.textBaseline="middle",this.showLabels&&dN.fillText(hb,dH-10,ci),0!==fa||aP||(aP=!0),aP&&dN.beginPath(),fa>0?(dN.lineWidth=this.gridLineWidth,dN.strokeStyle=this.gridLineColor):(dN.lineWidth=this.lineWidth,dN.strokeStyle=this.lineColor),cc+=dE.aliasPixel(dN.lineWidth),aP&&(dN.moveTo(dH,cc),dN.lineTo(this.width,cc),dN.stroke(),dN.closePath()),dN.lineWidth=this.lineWidth,dN.strokeStyle=this.lineColor,dN.beginPath(),dN.moveTo(dH-fZ,cc),dN.lineTo(dH,cc),dN.stroke(),dN.closePath()},this),hb(this.xLabels,function(bj,dH){var dE=this.calculateX(dH)+aV(this.lineWidth),hb=this.calculateX(dH-(this.offsetGridLines?.5:0))+aV(this.lineWidth),fa=this.xLabelRotation>0,ci=this.showVerticalLines;0!==dH||ci||(ci=!0),ci&&dN.beginPath(),dH>0?(dN.lineWidth=this.gridLineWidth,dN.strokeStyle=this.gridLineColor):(dN.lineWidth=this.lineWidth,dN.strokeStyle=this.lineColor),ci&&(dN.moveTo(hb,this.endPoint),dN.lineTo(hb,this.startPoint-3),dN.stroke(),dN.closePath()),dN.lineWidth=this.lineWidth,dN.strokeStyle=this.lineColor,dN.beginPath(),dN.moveTo(hb,this.endPoint),dN.lineTo(hb,this.endPoint+fZ),dN.stroke(),dN.closePath(),dN.save(),dN.translate(dE,fa?this.endPoint+12:this.endPoint+8),dN.rotate(gR(this.xLabelRotation)*-1),dN.font=this.font,dN.textAlign=fa?"right":"center",dN.textBaseline=fa?"middle":"top",dN.fillText(bj,0,0),dN.restore()},this)}}}),dH.RadialScale=dH.Element.extend({initialize:function(){this.size=de([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(dN){var bj=this.drawingArea/(this.max-this.min);return(dN-this.min)*bj},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var dN=bc(this.stepValue),bj=0;bj<=this.steps;bj++)this.yLabels.push(bI(this.templateString,{value:(this.min+bj*this.stepValue).toFixed(dN)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var dN,bj,dH,dE,hb,fZ,fa,ci,cc,aP,df,cF,ac=de([this.height/2-this.pointLabelFontSize-5,this.width/2]),bb=this.width,cX=0;for(this.ctx.font=fZdN(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),bj=0;bj<this.valuesCount;bj++)dN=this.getPointPosition(bj,ac),dH=this.ctx.measureText(bI(this.templateString,{value:this.labels[bj]})).width+5,0===bj||bj===this.valuesCount/2?(dE=dH/2,dN.x+dE>bb&&(bb=dN.x+dE,hb=bj),dN.x-dE<cX&&(cX=dN.x-dE,fa=bj)):bj<this.valuesCount/2?dN.x+dH>bb&&(bb=dN.x+dH,hb=bj):bj>this.valuesCount/2&&dN.x-dH<cX&&(cX=dN.x-dH,fa=bj);cc=cX,aP=Math.ceil(bb-this.width),fZ=this.getIndexAngle(hb),ci=this.getIndexAngle(fa),df=aP/Math.sin(fZ+Math.PI/2),cF=cc/Math.sin(ci+Math.PI/2),df=gX(df)?df:0,cF=gX(cF)?cF:0,this.drawingArea=ac-(cF+df)/2,this.setCenterPoint(cF,df)},setCenterPoint:function(dN,bj){var dH=this.width-bj-this.drawingArea,dE=dN+this.drawingArea;this.xCenter=(dE+dH)/2,this.yCenter=this.height/2},getIndexAngle:function(dN){var bj=2*Math.PI/this.valuesCount;return dN*bj-Math.PI/2},getPointPosition:function(dN,bj){var dH=this.getIndexAngle(dN);return{x:Math.cos(dH)*bj+this.xCenter,y:Math.sin(dH)*bj+this.yCenter}},draw:function(){if(this.display){var dN=this.ctx;if(hb(this.yLabels,function(bj,dH){if(dH>0){var dE,hb=dH*(this.drawingArea/this.steps),fZ=this.yCenter-hb;if(this.lineWidth>0)if(dN.strokeStyle=this.lineColor,dN.lineWidth=this.lineWidth,this.lineArc)dN.beginPath(),dN.arc(this.xCenter,this.yCenter,hb,0,2*Math.PI),dN.closePath(),dN.stroke();else{dN.beginPath();for(var fa=0;fa<this.valuesCount;fa++)dE=this.getPointPosition(fa,this.calculateCenterOffset(this.min+dH*this.stepValue)),0===fa?dN.moveTo(dE.x,dE.y):dN.lineTo(dE.x,dE.y);dN.closePath(),dN.stroke()}if(this.showLabels){if(dN.font=fZdN(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var ci=dN.measureText(bj).width;dN.fillStyle=this.backdropColor,dN.fillRect(this.xCenter-ci/2-this.backdropPaddingX,fZ-this.fontSize/2-this.backdropPaddingY,ci+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}dN.textAlign="center",dN.textBaseline="middle",dN.fillStyle=this.fontColor,dN.fillText(bj,this.xCenter,fZ)}}},this),!this.lineArc){dN.lineWidth=this.angleLineWidth,dN.strokeStyle=this.angleLineColor;for(var bj=this.valuesCount-1;bj>=0;bj--){if(this.angleLineWidth>0){var dH=this.getPointPosition(bj,this.calculateCenterOffset(this.max));dN.beginPath(),dN.moveTo(this.xCenter,this.yCenter),dN.lineTo(dH.x,dH.y),dN.stroke(),dN.closePath()}var dE=this.getPointPosition(bj,this.calculateCenterOffset(this.max)+5);dN.font=fZdN(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),dN.fillStyle=this.pointLabelFontColor;var fZ=this.labels.length,fa=this.labels.length/2,ci=fa/2,cc=bj<ci||bj>fZ-ci,aP=bj===ci||bj===fZ-ci;0===bj?dN.textAlign="center":bj===fa?dN.textAlign="center":bj<fa?dN.textAlign="left":dN.textAlign="right",aP?dN.textBaseline="middle":cc?dN.textBaseline="bottom":dN.textBaseline="top",dN.fillText(this.labels[bj],dE.x,dE.y)}}}}}),dE.addEvent(window,"resize",function(){var dN;return function(){clearTimeout(dN),dN=setTimeout(function(){hb(dH.instances,function(dN){dN.options.responsive&&dN.resize(dN.render,!0)})},50)}}()),bb?define(function(){return dH}):"object"==typeof module&&module.exports&&(module.exports=dH),bj.Chart=dH,dN.fn.chart=function(){var dN=[];return this.each(function(){dN.push(new dH(this.getContext("2d")))}),1===dN.length?dN[0]:dN}}).call(this,jQuery),function(dN){"use strict";var bj=dN&&dN.zui?dN.zui:this,dH=bj.Chart,dE=dH.helpers,hb={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowBeyondLine:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};dH.Type.extend({name:"Line",defaults:hb,initialize:function(bj){this.PointClass=dH.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(dN){return Math.pow(dN-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&dE.bindEvents(this,this.options.tooltipEvents,function(dN){var bj="mouseout"!==dN.type?this.getPointsAtEvent(dN):[];this.eachPoints(function(dN){dN.restore(["fillColor","strokeColor"])}),dE.each(bj,function(dN){dN.fillColor=dN.highlightFill,dN.strokeColor=dN.highlightStroke}),this.showTooltip(bj)}),dE.each(bj.datasets,function(dH){if(dN.zui&&dN.zui.Color&&dN.zui.Color.get){var hb=dN.zui.Color.get(dH.color),fZ=hb.toCssStr();dH.fillColor||(dH.fillColor=hb.clone().fade(20).toCssStr()),dH.strokeColor||(dH.strokeColor=fZ),dH.pointColor||(dH.pointColor=fZ),dH.pointStrokeColor||(dH.pointStrokeColor="#fff"),dH.pointHighlightFill||(dH.pointHighlightFill="#fff"),dH.pointHighlightStroke||(dH.pointHighlightStroke=fZ)}var fa={label:dH.label||null,fillColor:dH.fillColor,strokeColor:dH.strokeColor,pointColor:dH.pointColor,pointStrokeColor:dH.pointStrokeColor,showTooltips:dH.showTooltips!==!1,points:[]};this.datasets.push(fa),dE.each(dH.data,function(dN,dE){fa.points.push(new this.PointClass({value:dN,label:bj.labels[dE],datasetLabel:dH.label,strokeColor:dH.pointStrokeColor,fillColor:dH.pointColor,highlightFill:dH.pointHighlightFill||dH.pointColor,highlightStroke:dH.pointHighlightStroke||dH.pointStrokeColor}))},this),this.buildScale(bj.labels),this.eachPoints(function(dN,bj){dE.extend(dN,{x:this.scale.calculateX(bj),y:this.scale.endPoint}),dN.save()},this)},this),this.render()},update:function(){this.scale.update(),dE.each(this.activeElements,function(dN){dN.restore(["fillColor","strokeColor"])}),this.eachPoints(function(dN){dN.save()}),this.render()},eachPoints:function(dN){dE.each(this.datasets,function(bj){dE.each(bj.points,dN,this)},this)},getPointsAtEvent:function(dN){var bj=[],dH=dE.getRelativePosition(dN);return dE.each(this.datasets,function(dN){dE.each(dN.points,function(dN){dN.inRange(dH.x,dH.y)&&bj.push(dN)})},this),bj},buildScale:function(dN){var bj=this,hb=function(){var dN=[];return bj.eachPoints(function(bj){dN.push(bj.value)}),dN},fZ={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:dN.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(dN){var bj=dE.calculateScaleRange(hb(),dN,this.fontSize,this.beginAtZero,this.integersOnly);dE.extend(this,bj)},xLabels:dN,font:dE.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,showBeyondLine:this.options.scaleShowBeyondLine,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&dE.extend(fZ,{calculateYRange:dE.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new dH.Scale(fZ)},addData:function(dN,bj){dE.each(dN,function(dN,dH){this.datasets[dH].points.push(new this.PointClass({value:dN,label:bj,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[dH].pointStrokeColor,fillColor:this.datasets[dH].pointColor}))},this),this.scale.addXLabel(bj),this.update()},removeData:function(){this.scale.removeXLabel(),dE.each(this.datasets,function(dN){dN.points.shift()},this),this.update()},reflow:function(){var dN=dE.extend({height:this.chart.height,width:this.chart.width});this.scale.update(dN)},draw:function(dN){var bj=dN||1;this.clear();var dH=this.chart.ctx,hb=function(dN){return null!==dN.value},fZ=function(dN,bj,dH){return dE.findNextWhere(bj,hb,dH)||dN},fa=function(dN,bj,dH){return dE.findPreviousWhere(bj,hb,dH)||dN};this.scale.draw(bj),dE.each(this.datasets,function(dN){var ci=dE.where(dN.points,hb);dE.each(dN.points,function(dN,dH){dN.hasValue()&&dN.transition({y:this.scale.calculateY(dN.value),x:this.scale.calculateX(dH)},bj)},this),this.options.bezierCurve&&dE.each(ci,function(dN,bj){var dH=bj>0&&bj<ci.length-1?this.options.bezierCurveTension:0;dN.controlPoints=dE.splineCurve(fa(dN,ci,bj),dN,fZ(dN,ci,bj),dH),dN.controlPoints.outer.y>this.scale.endPoint?dN.controlPoints.outer.y=this.scale.endPoint:dN.controlPoints.outer.y<this.scale.startPoint&&(dN.controlPoints.outer.y=this.scale.startPoint),dN.controlPoints.inner.y>this.scale.endPoint?dN.controlPoints.inner.y=this.scale.endPoint:dN.controlPoints.inner.y<this.scale.startPoint&&(dN.controlPoints.inner.y=this.scale.startPoint)},this),dH.lineWidth=this.options.datasetStrokeWidth,dH.strokeStyle=dN.strokeColor,dH.beginPath(),dE.each(ci,function(dN,bj){if(0===bj)dH.moveTo(dN.x,dN.y);else if(this.options.bezierCurve){var dE=fa(dN,ci,bj);dH.bezierCurveTo(dE.controlPoints.outer.x,dE.controlPoints.outer.y,dN.controlPoints.inner.x,dN.controlPoints.inner.y,dN.x,dN.y)}else dH.lineTo(dN.x,dN.y)},this),dH.stroke(),this.options.datasetFill&&ci.length>0&&(dH.lineTo(ci[ci.length-1].x,this.scale.endPoint),dH.lineTo(ci[0].x,this.scale.endPoint),dH.fillStyle=dN.fillColor,dH.closePath(),dH.fill()),dE.each(ci,function(dN){dN.draw()})},this)}}),dN.fn.lineChart=function(bj,dE){var hb=[];return this.each(function(){var fZ=dN(this);hb.push(new dH(this.getContext("2d")).Line(bj,dN.extend(fZ.data(),dE)))}),1===hb.length?hb[0]:hb}}.call(this,jQuery),function(dN){"use strict";var bj=dN&&dN.zui?dN.zui:this,dH=bj.Chart,dE=dH.helpers,hb={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:1,percentageInnerCutout:50,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleLabelPlacement:"auto",animationSteps:60,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};dH.Type.extend({name:"Doughnut",defaults:hb,initialize:function(dN){this.segments=[],this.outerRadius=(dE.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=dH.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&dE.bindEvents(this,this.options.tooltipEvents,function(dN){var bj="mouseout"!==dN.type?this.getSegmentsAtEvent(dN):[];dE.each(this.segments,function(dN){dN.restore(["fillColor"])}),dE.each(bj,function(dN){dN.fillColor=dN.highlightColor}),this.showTooltip(bj)}),this.calculateTotal(dN),dE.each(dN,function(dN,bj){this.addData(dN,bj,!0)},this),this.render()},getSegmentsAtEvent:function(dN){var bj=[],dH=dE.getRelativePosition(dN);return dE.each(this.segments,function(dN){dN.inRange(dH.x,dH.y)&&bj.push(dN)},this),bj},addData:function(bj,dH,dE){if(dN.zui&&dN.zui.Color&&dN.zui.Color.get){var hb=new dN.zui.Color.get(bj.color);bj.color=hb.toCssStr(),bj.highlight||(bj.highlight=hb.lighten(5).toCssStr())}var fZ=dH||this.segments.length;this.segments.splice(fZ,0,new this.SegmentArc({id:"undefined"==typeof bj.id?fZ:bj.id,value:bj.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:bj.color,highlightColor:bj.highlight||bj.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(bj.value),showLabel:bj.showLabel!==!1,label:bj.label})),dE||(this.reflow(),this.update())},calculateCircumference:function(dN){return 2*Math.PI*(Math.abs(dN)/this.total)},calculateTotal:function(dN){this.total=0,dE.each(dN,function(dN){this.total+=Math.abs(dN.value)},this)},update:function(){this.calculateTotal(this.segments),dE.each(this.activeElements,function(dN){dN.restore(["fillColor"])}),dE.each(this.segments,function(dN){dN.save()}),this.render()},removeData:function(dN){var bj=dE.isNumber(dN)?dN:this.segments.length-1;this.segments.splice(bj,1),this.reflow(),this.update()},reflow:function(){dE.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(dE.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,dE.each(this.segments,function(dN){dN.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},drawLabel:function(bj,dH,hb){var fZ=this.options,fa=(bj.endAngle+bj.startAngle)/2,ci=fZ.scaleLabelPlacement;"inside"!==ci&&"outside"!==ci&&this.chart.width-this.chart.height>50&&bj.circumference<Math.PI/18&&(ci="outside");var cc=Math.cos(fa)*bj.outerRadius,aP=Math.sin(fa)*bj.outerRadius,df=dE.template(fZ.scaleLabel,{value:"undefined"==typeof dH?bj.value:Math.round(dH*bj.value),label:bj.label}),cF=this.chart.ctx;cF.font=dE.fontString(fZ.scaleFontSize,fZ.scaleFontStyle,fZ.scaleFontFamily),cF.textBaseline="middle",cF.textAlign="center";var ac=(cF.measureText(df).width,this.chart.width/2),bb=this.chart.height/2;if("outside"===ci){var gX=cc>=0,cX=cc+ac,de=aP+bb;cF.textAlign=gX?"left":"right",cF.measureText(df).width,cc=gX?Math.max(ac+bj.outerRadius+10,cc+30+ac):Math.min(ac-bj.outerRadius-10,cc-30+ac);var bc=fZ.scaleFontSize*(fZ.scaleLineHeight||1),gR=Math.round((.8*aP+bb)/bc)+1,aV=(Math.floor(this.chart.width/bc)+1,gX?1:-1);if(hb[gR*aV]&&(gR>1?gR--:gR++),hb[gR*aV])return;aP=(gR-1)*bc+fZ.scaleFontSize/2,hb[gR*aV]=!0,cF.beginPath(),cF.moveTo(cX,de),cF.lineTo(cc,aP),cc=gX?cc+5:cc-5,cF.lineTo(cc,aP),cF.strokeStyle=dN.zui&&dN.zui.Color?new dN.zui.Color(bj.fillColor).fade(40).toCssStr():bj.fillColor,cF.strokeWidth=fZ.scaleLineWidth,cF.stroke(),cF.fillStyle=bj.fillColor}else cc=.7*cc+ac,aP=.7*aP+bb,cF.fillStyle=dN.zui&&dN.zui.Color?new dN.zui.Color(bj.fillColor).contrast().toCssStr():"#fff";cF.fillText(df,cc,aP)},draw:function(dN){var bj=dN?dN:1;this.clear();var dH;if(dE.each(this.segments,function(dN,dH){dN.transition({circumference:this.calculateCircumference(dN.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},bj),dN.endAngle=dN.startAngle+dN.circumference,dN.draw(),0===dH&&(dN.startAngle=1.5*Math.PI),dH<this.segments.length-1&&(this.segments[dH+1].startAngle=dN.endAngle)},this),this.options.scaleShowLabels){var hb=this.segments.slice().sort(function(dN,bj){return bj.value-dN.value}),dH={};dE.each(hb,function(bj,dE){bj.showLabel&&this.drawLabel(bj,dN,dH)},this)}}}),dH.types.Doughnut.extend({name:"Pie",defaults:dE.merge(hb,{percentageInnerCutout:0})}),dN.fn.pieChart=function(bj,dE){var hb=[];return this.each(function(){var fZ=dN(this);hb.push(new dH(this.getContext("2d")).Pie(bj,dN.extend(fZ.data(),dE)))}),1===hb.length?hb[0]:hb},dN.fn.doughnutChart=function(bj,dE){var hb=[];return this.each(function(){var fZ=dN(this);hb.push(new dH(this.getContext("2d")).Doughnut(bj,dN.extend(fZ.data(),dE)))}),1===hb.length?hb[0]:hb}}.call(this,jQuery),function(dN){"use strict";var bj=dN&&dN.zui?dN.zui:this,dH=bj.Chart,dE=dH.helpers,hb={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,scaleShowBeyondLine:!0,barShowStroke:!0,barStrokeWidth:1,scaleValuePlacement:"auto",barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};dH.Type.extend({name:"Bar",defaults:hb,initialize:function(bj){var hb=this.options;this.ScaleClass=dH.Scale.extend({offsetGridLines:!0,calculateBarX:function(dN,bj,dH){var dE=this.calculateBaseWidth(),fZ=this.calculateX(dH)-dE/2,fa=this.calculateBarWidth(dN);return fZ+fa*bj+bj*hb.barDatasetSpacing+fa/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*hb.barValueSpacing},calculateBarWidth:function(dN){var bj=this.calculateBaseWidth()-(dN-1)*hb.barDatasetSpacing;return bj/dN}}),this.datasets=[],this.options.showTooltips&&dE.bindEvents(this,this.options.tooltipEvents,function(dN){var bj="mouseout"!==dN.type?this.getBarsAtEvent(dN):[];this.eachBars(function(dN){dN.restore(["fillColor","strokeColor"])}),dE.each(bj,function(dN){dN.fillColor=dN.highlightFill,dN.strokeColor=dN.highlightStroke}),this.showTooltip(bj)}),this.BarClass=dH.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),dE.each(bj.datasets,function(dH,hb){if(dN.zui&&dN.zui.Color&&dN.zui.Color.get){var fZ=dN.zui.Color.get(dH.color),fa=fZ.toCssStr();dH.fillColor||(dH.fillColor=fZ.clone().fade(50).toCssStr()),dH.strokeColor||(dH.strokeColor=fa)}var ci={label:dH.label||null,fillColor:dH.fillColor,strokeColor:dH.strokeColor,bars:[]};this.datasets.push(ci),dE.each(dH.data,function(dN,dE){ci.bars.push(new this.BarClass({value:dN,label:bj.labels[dE],datasetLabel:dH.label,strokeColor:dH.strokeColor,fillColor:dH.fillColor,highlightFill:dH.highlightFill||dH.fillColor,highlightStroke:dH.highlightStroke||dH.strokeColor}))},this)},this),this.buildScale(bj.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(dN,bj,dH){dE.extend(dN,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,dH,bj),y:this.scale.endPoint}),dN.save()},this),this.render()},update:function(){this.scale.update(),dE.each(this.activeElements,function(dN){dN.restore(["fillColor","strokeColor"])}),this.eachBars(function(dN){dN.save()}),this.render()},eachBars:function(dN){dE.each(this.datasets,function(bj,dH){dE.each(bj.bars,dN,this,dH)},this)},getBarsAtEvent:function(dN){for(var bj,dH=[],hb=dE.getRelativePosition(dN),fZ=function(dN){dH.push(dN.bars[bj])},fa=0;fa<this.datasets.length;fa++)for(bj=0;bj<this.datasets[fa].bars.length;bj++)if(this.datasets[fa].bars[bj].inRange(hb.x,hb.y))return dE.each(this.datasets,fZ),dH;return dH},buildScale:function(dN){var bj=this,dH=function(){var dN=[];return bj.eachBars(function(bj){dN.push(bj.value)}),dN},hb={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:dN.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(dN){var bj=dE.calculateScaleRange(dH(),dN,this.fontSize,this.beginAtZero,this.integersOnly);dE.extend(this,bj)},xLabels:dN,font:dE.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,showBeyondLine:this.options.scaleShowBeyondLine,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&dE.extend(hb,{calculateYRange:dE.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(hb)},addData:function(dN,bj){dE.each(dN,function(dN,dH){this.datasets[dH].bars.push(new this.BarClass({value:dN,label:bj,x:this.scale.calculateBarX(this.datasets.length,dH,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[dH].strokeColor,fillColor:this.datasets[dH].fillColor}))},this),this.scale.addXLabel(bj),this.update()},removeData:function(){this.scale.removeXLabel(),dE.each(this.datasets,function(dN){dN.bars.shift()},this),this.update()},reflow:function(){dE.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var dN=dE.extend({height:this.chart.height,width:this.chart.width});this.scale.update(dN)},drawLabel:function(dN,bj){var dH=this.options;bj=bj||dH.scaleValuePlacement,bj=bj?bj.toLowerCase():"auto","auto"===bj&&(bj=dN.y<15?"insdie":"outside");var hb="insdie"===bj?dN.y+10:dN.y-10,fZ=this.chart.ctx;fZ.font=dE.fontString(dH.scaleFontSize,dH.scaleFontStyle,dH.scaleFontFamily),fZ.textBaseline="middle",fZ.textAlign="center",fZ.fillStyle=dH.scaleFontColor,fZ.fillText(dN.value,dN.x,hb)},draw:function(dN){var bj=dN||1;this.clear();this.chart.ctx;this.scale.draw(bj);var dH=this.options.scaleShowLabels&&this.options.scaleValuePlacement;dE.each(this.datasets,function(dN,hb){dE.each(dN.bars,function(dN,dE){dN.hasValue()&&(dN.base=this.scale.endPoint,dN.transition({x:this.scale.calculateBarX(this.datasets.length,hb,dE),y:this.scale.calculateY(dN.value),width:this.scale.calculateBarWidth(this.datasets.length)},bj).draw()),dH&&this.drawLabel(dN)},this)},this)}}),dN.fn.barChart=function(bj,dE){var hb=[];return this.each(function(){var fZ=dN(this);hb.push(new dH(this.getContext("2d")).Bar(bj,dN.extend(fZ.data(),dE)))}),1===hb.length?hb[0]:hb}}.call(this,jQuery);