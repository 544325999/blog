!function(e,V){"object"==typeof exports&&"undefined"!=typeof module?V(exports):"function"==typeof define&&define.amd?define(["exports"],V):V((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";function V(e,V){var g=Object.keys(e);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(e);V&&(R=R.filter(function(V){return Object.getOwnPropertyDescriptor(e,V).enumerable})),g.push.apply(g,R)}return g}function g(e){for(var g=1;g<arguments.length;g++){var R=null!=arguments[g]?arguments[g]:{};g%2?V(Object(R),!0).forEach(function(V){f(e,V,R[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(R)):V(Object(R)).forEach(function(V){Object.defineProperty(e,V,Object.getOwnPropertyDescriptor(R,V))})}return e}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gD(e,V){if(!(e instanceof V))throw new TypeError("Cannot call a class as a function")}function c(e,V){for(var g=0;g<V.length;g++){var R=V[g];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(e,R.key,R)}}function I(e,V,g){return V&&c(e.prototype,V),g&&c(e,g),e}function f(e,V,g){return V in e?Object.defineProperty(e,V,{value:g,enumerable:!0,configurable:!0,writable:!0}):e[V]=g,e}function Vc(e,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(V&&V.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),V&&fB(e,V)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fB(e,V){return(fB=Object.setPrototypeOf||function(e,V){return e.__proto__=V,e})(e,V)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,V){return!V||"object"!=typeof V&&"function"!=typeof V?a(e):V}function aV(e){var V=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var g,R=N(e);if(V){var gD=N(this).constructor;g=Reflect.construct(R,arguments,gD)}else g=R.apply(this,arguments);return S(this,g)}}function b(e,V){return function(e){if(Array.isArray(e))return e}(e)||function(e,V){var g=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==g)return;var R,gD,c=[],I=!0,f=!1;try{for(g=g.call(e);!(I=(R=g.next()).done)&&(c.push(R.value),!V||c.length!==V);I=!0);}catch(e){f=!0,gD=e}finally{try{I||null==g.return||g.return()}finally{if(f)throw gD}}return c}(e,V)||cg(e,V)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(e){if(Array.isArray(e))return aA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cg(e,V){if(e){if("string"==typeof e)return aA(e,V);var g=Object.prototype.toString.call(e).slice(8,-1);return"Object"===g&&e.constructor&&(g=e.constructor.name),"Map"===g||"Set"===g?Array.from(e):"Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?aA(e,V):void 0}}function aA(e,V){(null==V||V>e.length)&&(V=e.length);for(var g=0,R=new Array(V);g<V;g++)R[g]=e[g];return R}function cD(e,V){var g="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!g){if(Array.isArray(e)||(g=cg(e))||V&&e&&"number"==typeof e.length){g&&(e=g);var R=0,gD=function(){};return{s:gD,n:function(){return R>=e.length?{done:!0}:{done:!1,value:e[R++]}},e:function(e){throw e},f:gD}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,I=!0,f=!1;return{s:function(){g=g.call(e)},n:function(){var e=g.next();return I=e.done,e},e:function(e){f=!0,c=e},f:function(){try{I||null==g.return||g.return()}finally{if(f)throw c}}}}var fX=function(e){return"object"===R(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},h=function e(){for(var V=!1,g=arguments.length,gD=new Array(g),c=0;c<g;c++)gD[c]=arguments[c];"boolean"==typeof gD[0]&&(V=gD.shift());var I=gD[0];if(!I||"object"!==R(I))throw new Error("extendee must be an object");for(var f=gD.slice(1),Vc=f.length,N=0;N<Vc;N++){var fB=f[N];for(var a in fB)if(fB.hasOwnProperty(a)){var S=fB[a];if(V&&(Array.isArray(S)||fX(S))){var aV=Array.isArray(S)?[]:{};I[a]=e(!0,I.hasOwnProperty(a)?I[a]:aV,S)}else I[a]=S}}return I},af=function(e){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e)||0,Math.round((e+Number.EPSILON)*V)/V},T="undefined"!=typeof window&&window.ResizeObserver||function(){function e(V){gD(this,e),this.observables=[],this.boundCheck=this.check.bind(this),this.boundCheck(),this.callback=V}return I(e,[{key:"observe",value:function(e){if(!this.observables.some(function(V){return V.el===e})){var V={el:e,size:{height:e.clientHeight,width:e.clientWidth}};this.observables.push(V)}}},{key:"unobserve",value:function(e){this.observables=this.observables.filter(function(V){return V.el!==e})}},{key:"disconnect",value:function(){this.observables=[]}},{key:"check",value:function(){var e=this.observables.filter(function(e){var V=e.el.clientHeight,g=e.el.clientWidth;if(e.size.height!==V||e.size.width!==g)return e.size.height=V,e.size.width=g,!0}).map(function(e){return e.el});e.length>0&&this.callback(e),window.requestAnimationFrame(this.boundCheck)}}]),e}(),fXf=function(){var e=window.getSelection?window.getSelection():document.selection;e&&e.rangeCount&&e.getRangeAt(0).getClientRects().length&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())},j=function e(V){gD(this,e),this.id=-1,this.id=V.pointerId||V.identifier||-1,this.pageX=V.pageX,this.pageY=V.pageY,this.clientX=V.clientX,this.clientY=V.clientY,this.nativePointer=V};function fQ(e,V){return V?Math.sqrt(Math.pow(V.clientX-e.clientX,2)+Math.pow(V.clientY-e.clientY,2)):0}function eF(e,V){return V?{clientX:(e.clientX+V.clientX)/2,clientY:(e.clientY+V.clientY)/2}:e}var aC=function(){function e(V){var g=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=R.start,I=void 0===c?function(){return!0}:c,f=R.move,Vc=void 0===f?function(){}:f,N=R.end,fB=void 0===N?function(){}:N;gD(this,e),this.element=V,this.startPointers=[],this.currentPointers=[],this.startCallback=I,this.moveCallback=Vc,this.endCallback=fB,this.onStart=function(e){if(!e.button||0===e.button){var V=new j(e);if(!1===g.startCallback(V,e))return!1;e.preventDefault(),fXf(),g.currentPointers.push(V),g.startPointers.push(V),(e.target&&"setPointerCapture"in e.target?e.target:g.element).setPointerCapture(e.pointerId),g.element.addEventListener("pointermove",g.onMove),g.element.addEventListener("pointerup",g.onEnd),g.element.addEventListener("pointercancel",g.onEnd)}},this.onMove=function(e){for(var V=g.currentPointers.slice(),R=[],gD=function(){var e=I[c],V=g.currentPointers.findIndex(function(V){return V.id===e.id});if(V<0)return"continue";R.push(e),g.currentPointers[V]=e},c=0,I=[new j(e)];c<I.length;c++)gD();R.length&&g.moveCallback(V,g.currentPointers,e)},this.onEnd=function(e){var V=new j(e),R=g.currentPointers.findIndex(function(e){return e.id===V.id});if(-1===R)return!1;g.currentPointers.splice(R,1),g.startPointers.splice(R,1),g.endCallback(V,e),g.currentPointers.length||(g.element.removeEventListener("pointermove",g.onMove),g.element.removeEventListener("pointerup",g.onEnd),g.element.removeEventListener("pointercancel",g.onEnd))},this.element.addEventListener("pointerdown",this.onStart)}return I(e,[{key:"stop",value:function(){this.element.removeEventListener("pointerdown",this.onStart),this.element.removeEventListener("pointermove",this.onMove),this.element.removeEventListener("pointerup",this.onEnd),this.element.removeEventListener("pointercancel",this.onEnd)}}]),e}(),gH=function e(V){return!(!V||V===document.body)&&(function(e){var V=window.getComputedStyle(e)["overflow-y"],g=window.getComputedStyle(e)["overflow-x"],R=("scroll"===V||"auto"===V)&&Math.abs(e.scrollHeight-e.clientHeight)>1,gD=("scroll"===g||"auto"===g)&&Math.abs(e.scrollWidth-e.clientWidth)>1;return R||gD}(V)?V:e(V.parentNode))},gJ=function(){function e(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gD(this,e),this.options=h(!0,{},V),this.plugins=[],this.events={};for(var g=0,R=["on","once"];g<R.length;g++)for(var c=R[g],I=0,f=Object.entries(this.options[c]||{});I<f.length;I++){var Vc=f[I];this[c].apply(this,M(Vc))}}return I(e,[{key:"option",value:function(e,V){e=String(e);var g,R,gD=(g=e,R=this.options,g.split(".").reduce(function(e,V){return e&&e[V]},R));return"function"==typeof gD&&(gD=gD.call(this,e)),void 0===gD?V:gD}},{key:"localize",value:function(e){var V=this,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,function(e,R,gD){var c=!1;if(!(c=gD?V.option("".concat(R[0]+R.toLowerCase().substring(1),".l10n.").concat(gD)):V.option("l10n.".concat(R))))return R;for(var I=0;I<g.length;I++)c=c.split(g[I][0]).join(g[I][1]);return c})}},{key:"on",value:function(e,V){var g=this;if(fX(e)){for(var R=0,gD=Object.entries(e);R<gD.length;R++){var c=gD[R];this.on.apply(this,M(c))}return this}return String(e).split(" ").forEach(function(e){var R=g.events[e]=g.events[e]||[];-1==R.indexOf(V)&&R.push(V)}),this}},{key:"once",value:function(e,V){var g=this;if(fX(e)){for(var R=0,gD=Object.entries(e);R<gD.length;R++){var c=gD[R];this.once.apply(this,M(c))}return this}return String(e).split(" ").forEach(function(e){var R=function R(){g.off(e,R);for(var gD=arguments.length,c=new Array(gD),I=0;I<gD;I++)c[I]=arguments[I];V.call.apply(V,[g,g].concat(c))};R._=V,g.on(e,R)}),this}},{key:"off",value:function(e,V){var g=this;if(!fX(e))return e.split(" ").forEach(function(e){var R=g.events[e];if(!R||!R.length)return g;for(var gD=-1,c=0,I=R.length;c<I;c++){var f=R[c];if(f&&(f===V||f._===V)){gD=c;break}}-1!=gD&&R.splice(gD,1)}),this;for(var R=0,gD=Object.entries(e);R<gD.length;R++){var c=gD[R];this.off.apply(this,M(c))}}},{key:"trigger",value:function(e){for(var V=arguments.length,g=new Array(V>1?V-1:0),R=1;R<V;R++)g[R-1]=arguments[R];var gD,c=cD(M(this.events[e]||[]).slice());try{for(c.s();!(gD=c.n()).done;){var I=gD.value;if(I&&!1===I.call.apply(I,[this,this].concat(g)))return!1}}catch(e){c.e(e)}finally{c.f()}var f,Vc=cD(M(this.events["*"]||[]).slice());try{for(Vc.s();!(f=Vc.n()).done;){var N=f.value;if(N&&!1===N.call.apply(N,[this,e,this].concat(g)))return!1}}catch(e){Vc.e(e)}finally{Vc.f()}return!0}},{key:"attachPlugins",value:function(e){for(var V={},g=0,R=Object.entries(e||{});g<R.length;g++){var gD=b(R[g],2),c=gD[0],I=gD[1];!1===this.options[c]||this.plugins[c]||(this.options[c]=h({},I.defaults||{},this.options[c]),V[c]=new I(this))}for(var f=0,Vc=Object.entries(V);f<Vc.length;f++){var N=b(Vc[f],2);N[0],N[1].attach(this)}return this.plugins=Object.assign({},this.plugins,V),this}},{key:"detachPlugins",value:function(){for(var e in this.plugins){var V=void 0;(V=this.plugins[e])&&"function"==typeof V.detach&&V.detach(this)}return this.plugins={},this}}]),e}(),eV={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1},fZ=function(e){Vc(R,e);var V=aV(R);function R(e){var g,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gD(this,R),(g=V.call(this,h(!0,{},eV,c))).state="init",g.$container=e;for(var I=0,f=["onLoad","onWheel","onClick"];I<f.length;I++){var Vc=f[I];g[Vc]=g[Vc].bind(a(g))}return g.initLayout(),g.resetValues(),g.attachPlugins(R.Plugins),g.trigger("init"),g.updateMetrics(),g.attachEvents(),g.trigger("ready"),!1===g.option("centerOnStart")?g.state="ready":g.panTo({friction:0}),g}return I(R,[{key:"initLayout",value:function(){var e=this.$container;if(!(e instanceof HTMLElement))throw new Error("Panzoom: Container not found");var V=this.option("content")||e.querySelector(".panzoom__content");if(!V)throw new Error("Panzoom: Content not found");this.$content=V;var g,R=this.option("viewport")||e.querySelector(".panzoom__viewport");R||!1===this.option("wrapInner")||((R=document.createElement("div")).classList.add("panzoom__viewport"),(g=R).append.apply(g,M(e.childNodes)),e.appendChild(R));this.$viewport=R||V.parentNode}},{key:"resetValues",value:function(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24),this.container={width:0,height:0},this.viewport={width:0,height:0},this.content={origHeight:0,origWidth:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")},this.transform={x:0,y:0,scale:1},this.resetDragPosition()}},{key:"onLoad",value:function(e){this.updateMetrics(),this.panTo({scale:this.option("baseScale"),friction:0}),this.trigger("load",e)}},{key:"onClick",value:function(e){if(!e.defaultPrevented)if(this.option("textSelection")&&window.getSelection().toString().length)e.stopPropagation();else{var V=this.$content.getClientRects()[0];if("ready"!==this.state&&(this.dragPosition.midPoint||Math.abs(V.top-this.dragStart.rect.top)>1||Math.abs(V.left-this.dragStart.rect.left)>1))return e.preventDefault(),void e.stopPropagation();!1!==this.trigger("click",e)&&this.option("zoom")&&"toggleZoom"===this.option("click")&&(e.preventDefault(),e.stopPropagation(),this.zoomWithClick(e))}}},{key:"onWheel",value:function(e){!1!==this.trigger("wheel",e)&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(e)}},{key:"zoomWithWheel",value:function(e){void 0===this.changedDelta&&(this.changedDelta=0);var V=Math.max(-1,Math.min(1,-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)),g=this.content.scale,R=g*(100+V*this.option("wheelFactor"))/100;if(V<0&&Math.abs(g-this.option("minScale"))<.01||V>0&&Math.abs(g-this.option("maxScale"))<.01?(this.changedDelta+=Math.abs(V),R=g):(this.changedDelta=0,R=Math.max(Math.min(R,this.option("maxScale")),this.option("minScale"))),!(this.changedDelta>this.option("wheelLimit"))&&(e.preventDefault(),R!==g)){var gD=this.$content.getBoundingClientRect(),c=e.clientX-gD.left,I=e.clientY-gD.top;this.zoomTo(R,{x:c,y:I})}}},{key:"zoomWithClick",value:function(e){var V=this.$content.getClientRects()[0],g=e.clientX-V.left,R=e.clientY-V.top;this.toggleZoom({x:g,y:R})}},{key:"attachEvents",value:function(){var e=this;this.$content.addEventListener("load",this.onLoad),this.$container.addEventListener("wheel",this.onWheel,{passive:!1}),this.$container.addEventListener("click",this.onClick,{passive:!1}),this.initObserver();var V=new aC(this.$container,{start:function(g,R){if(!e.option("touch"))return!1;if(!(e.velocity.scale<0)){if(!V.currentPointers.length){if(-1!==["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(R.target.nodeName))return!1;if(e.option("textSelection")&&function(e,V,g){for(var R=e.childNodes,gD=document.createRange(),c=0;c<R.length;c++){var I=R[c];if(I.nodeType===Node.TEXT_NODE){gD.selectNodeContents(I);var f=gD.getBoundingClientRect();if(V>=f.left&&g>=f.top&&V<=f.right&&g<=f.bottom)return I}}return!1}(R.target,R.clientX,R.clientY))return!1;if(gH(R.target))return!1}return!1!==e.trigger("touchStart",R)&&(e.state="pointerdown",e.resetDragPosition(),e.dragPosition.midPoint=null,e.dragPosition.time=Date.now(),!0)}},move:function(g,R,gD){if("pointerdown"===e.state)if(0!=e.trigger("touchMove",gD)){if(!(R.length<2&&1==e.option("panOnlyZoomed")&&e.content.width<=e.viewport.width&&e.content.height<=e.viewport.height&&e.transform.scale<=e.option("baseScale"))&&(!(R.length>1)||e.option("zoom")&&!1!==e.option("pinchToZoom"))){gD.preventDefault(),gD.stopPropagation();var c=eF(g[0],g[1]),I=eF(R[0],R[1]),f=I.clientX-c.clientX,Vc=I.clientY-c.clientY,N=fQ(g[0],g[1]),fB=fQ(R[0],R[1]),a=N?fB/N:1;e.dragOffset.x+=f,e.dragOffset.y+=Vc,e.dragOffset.scale*=a,e.dragOffset.time=Date.now()-e.dragPosition.time;var S=1===e.dragStart.scale&&e.option("lockAxis");if(S&&!e.lockAxis){if(Math.abs(e.dragOffset.x)<6&&Math.abs(e.dragOffset.y)<6)return;if("xy"===S){var aV=Math.abs(180*Math.atan2(e.dragOffset.y,e.dragOffset.x)/Math.PI);e.lockAxis=aV>45&&aV<135?"y":"x"}else e.lockAxis=S}if(e.lockAxis&&(e.dragOffset["x"===e.lockAxis?"y":"x"]=0),e.$container.classList.add(e.option("draggingClass")),e.transform.scale===e.option("baseScale")&&"y"===e.lockAxis||(e.dragPosition.x=e.dragStart.x+e.dragOffset.x),e.transform.scale===e.option("baseScale")&&"x"===e.lockAxis||(e.dragPosition.y=e.dragStart.y+e.dragOffset.y),e.dragPosition.scale=e.dragStart.scale*e.dragOffset.scale,R.length>1){var b=eF(V.startPointers[0],V.startPointers[1]),M=b.clientX-e.dragStart.rect.x,cg=b.clientY-e.dragStart.rect.y,aA=e.getZoomDelta(e.content.scale*e.dragOffset.scale,M,cg),cD=aA.deltaX,fX=aA.deltaY;e.dragPosition.x-=cD,e.dragPosition.y-=fX,e.dragPosition.midPoint=I}else e.setDragResistance();e.transform={x:e.dragPosition.x,y:e.dragPosition.y,scale:e.dragPosition.scale},e.startAnimation()}}else gD.preventDefault()},end:function(R,gD){if("pointerdown"===e.state)if(e._dragOffset=g({},e.dragOffset),V.currentPointers.length)e.resetDragPosition();else if(e.state="decel",e.friction=e.option("decelFriction"),e.recalculateTransform(),e.$container.classList.remove(e.option("draggingClass")),!1!==e.trigger("touchEnd",gD)&&"decel"===e.state){var c=e.option("minScale");if(e.transform.scale<c)e.zoomTo(c,{friction:.64});else{var I=e.option("maxScale");if(e.transform.scale-I>.01){var f=e.dragPosition.midPoint||R,Vc=e.$content.getClientRects()[0];e.zoomTo(I,{friction:.64,x:f.clientX-Vc.left,y:f.clientY-Vc.top})}else;}}}});this.pointerTracker=V}},{key:"initObserver",value:function(){var e=this;this.resizeObserver||(this.resizeObserver=new T(function(){e.updateTimer||(e.updateTimer=setTimeout(function(){var V=e.$container.getBoundingClientRect();V.width&&V.height?((Math.abs(V.width-e.container.width)>1||Math.abs(V.height-e.container.height)>1)&&(e.isAnimating()&&e.endAnimation(),e.updateMetrics(),e.panTo({x:e.content.x,y:e.content.y,scale:e.option("baseScale"),friction:0})),e.updateTimer=null):e.updateTimer=null},e.updateRate))}),this.resizeObserver.observe(this.$container))}},{key:"resetDragPosition",value:function(){this.lockAxis=null,this.friction=this.option("friction"),this.velocity={x:0,y:0,scale:0};var e=this.content,V=e.x,R=e.y,gD=e.scale;this.dragStart={rect:this.$content.getBoundingClientRect(),x:V,y:R,scale:gD},this.dragPosition=g(g({},this.dragPosition),{},{x:V,y:R,scale:gD}),this.dragOffset={x:0,y:0,scale:1,time:0}}},{key:"updateMetrics",value:function(e){!0!==e&&this.trigger("beforeUpdate");var V,R=this.$container,gD=this.$content,c=this.$viewport,I=this.$content instanceof HTMLImageElement,f=this.option("zoom"),Vc=this.option("resizeParent",f),N=(V=this.$content,Math.max(parseFloat(V.naturalWidth||0),parseFloat(V.width&&V.width.baseVal&&V.width.baseVal.value||0),parseFloat(V.offsetWidth||0),parseFloat(V.scrollWidth||0))),fB=function(e){return Math.max(parseFloat(e.naturalHeight||0),parseFloat(e.height&&e.height.baseVal&&e.height.baseVal.value||0),parseFloat(e.offsetHeight||0),parseFloat(e.scrollHeight||0))}(this.$content);Object.assign(gD.style,{width:"",height:"",maxWidth:"",maxHeight:""}),Vc&&Object.assign(c.style,{width:"",height:""});var a=this.option("ratio"),S=N=af(N*a),aV=fB=af(fB*a),b=gD.getBoundingClientRect(),M=c.getBoundingClientRect(),cg=c==R?M:R.getBoundingClientRect(),aA=Math.max(c.offsetWidth,af(M.width)),cD=Math.max(c.offsetHeight,af(M.height)),fX=window.getComputedStyle(c);if(aA-=parseFloat(fX.paddingLeft)+parseFloat(fX.paddingRight),cD-=parseFloat(fX.paddingTop)+parseFloat(fX.paddingBottom),this.viewport.width=aA,this.viewport.height=cD,f){if(Math.abs(N-b.width)>.1||Math.abs(fB-b.height)>.1){var h=function(e,V,g,R){var gD=Math.min(g/e||0,R/V);return{width:e*gD||0,height:V*gD||0}}(N,fB,Math.min(N,b.width),Math.min(fB,b.height));S=af(h.width),aV=af(h.height)}Object.assign(gD.style,{width:"".concat(S,"px"),height:"".concat(aV,"px"),transform:""})}if(Vc&&(Object.assign(c.style,{width:"".concat(S,"px"),height:"".concat(aV,"px")}),this.viewport=g(g({},this.viewport),{},{width:S,height:aV})),I&&f&&"function"!=typeof this.options.maxScale){var T=this.option("maxScale");this.options.maxScale=function(){return this.content.origWidth>0&&this.content.fitWidth>0?this.content.origWidth/this.content.fitWidth:T}}this.content=g(g({},this.content),{},{origWidth:N,origHeight:fB,fitWidth:S,fitHeight:aV,width:S,height:aV,scale:1,isZoomable:f}),this.container={width:cg.width,height:cg.height},!0!==e&&this.trigger("afterUpdate")}},{key:"zoomIn",value:function(e){this.zoomTo(this.content.scale+(e||this.option("step")))}},{key:"zoomOut",value:function(e){this.zoomTo(this.content.scale-(e||this.option("step")))}},{key:"toggleZoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},V=this.option("maxScale"),g=this.option("baseScale"),R=this.content.scale>g+.5*(V-g)?g:V;this.zoomTo(R,e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("baseScale"),V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=V.x,R=void 0===g?null:g,gD=V.y,c=void 0===gD?null:gD;e=Math.max(Math.min(e,this.option("maxScale")),this.option("minScale"));var I=af(this.content.scale/(this.content.width/this.content.fitWidth),1e7);null===R&&(R=this.content.width*I*.5),null===c&&(c=this.content.height*I*.5);var f=this.getZoomDelta(e,R,c),Vc=f.deltaX,N=f.deltaY;R=this.content.x-Vc,c=this.content.y-N,this.panTo({x:R,y:c,scale:e,friction:this.option("zoomFriction")})}},{key:"getZoomDelta",value:function(e){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,R=this.content.fitWidth*this.content.scale,gD=this.content.fitHeight*this.content.scale,c=V>0&&R?V/R:0,I=g>0&&gD?g/gD:0,f=this.content.fitWidth*e,Vc=this.content.fitHeight*e,N=(f-R)*c,fB=(Vc-gD)*I;return{deltaX:N,deltaY:fB}}},{key:"panTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},V=e.x,g=void 0===V?this.content.x:V,R=e.y,gD=void 0===R?this.content.y:R,c=e.scale,I=e.friction,f=void 0===I?this.option("friction"):I,Vc=e.ignoreBounds,N=void 0!==Vc&&Vc;if(c=c||this.content.scale||1,!N){var fB=this.getBounds(c),a=fB.boundX,S=fB.boundY;a&&(g=Math.max(Math.min(g,a.to),a.from)),S&&(gD=Math.max(Math.min(gD,S.to),S.from))}this.friction=f,this.transform={x:g,y:gD,scale:c},f?(this.state="panning",this.velocity={x:(1/this.friction-1)*(g-this.content.x),y:(1/this.friction-1)*(gD-this.content.y),scale:(1/this.friction-1)*(c-this.content.scale)},this.startAnimation()):this.endAnimation()}},{key:"startAnimation",value:function(){var e=this;this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation"),this.rAF=requestAnimationFrame(function(){return e.animate()})}},{key:"animate",value:function(){var e=this;if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if("pointerdown"!==this.state)return this.endAnimation(),void this.trigger("endAnimation");this.rAF=requestAnimationFrame(function(){return e.animate()})}},{key:"getBounds",value:function(e){var V=this.boundX,g=this.boundY;if(void 0!==V&&void 0!==g)return{boundX:V,boundY:g};V={from:0,to:0},g={from:0,to:0},e=e||this.transform.scale;var R=this.content.fitWidth,gD=this.content.fitHeight,c=R*e,I=gD*e,f=this.viewport.width,Vc=this.viewport.height;if(R<=f){var N=.5*(f-c),fB=.5*(c-R);V.from=af(N-fB),V.to=af(N+fB)}else V.from=af(f-c);if(gD<=Vc){var a=.5*(Vc-I),S=.5*(I-gD);g.from=af(a-S),g.to=af(a+S)}else g.from=af(Vc-c);return{boundX:V,boundY:g}}},{key:"setEdgeForce",value:function(){if("decel"===this.state){var e,V,g,R,gD=this.option("bounceForce"),c=this.getBounds(Math.max(this.transform.scale,this.content.scale)),I=c.boundX,f=c.boundY;if(I&&(e=this.content.x<I.from,V=this.content.x>I.to),f&&(g=this.content.y<f.from,R=this.content.y>f.to),e||V){var Vc=((e?I.from:I.to)-this.content.x)*gD,N=this.content.x+(this.velocity.x+Vc)/this.friction;N>=I.from&&N<=I.to&&(Vc+=this.velocity.x),this.velocity.x=Vc,this.recalculateTransform()}if(g||R){var fB=((g?f.from:f.to)-this.content.y)*gD,a=this.content.y+(fB+this.velocity.y)/this.friction;a>=f.from&&a<=f.to&&(fB+=this.velocity.y),this.velocity.y=fB,this.recalculateTransform()}}}},{key:"setDragResistance",value:function(){if("pointerdown"===this.state){var e,V,g,R,gD=this.getBounds(this.dragPosition.scale),c=gD.boundX,I=gD.boundY;if(c&&(e=this.dragPosition.x<c.from,V=this.dragPosition.x>c.to),I&&(g=this.dragPosition.y<I.from,R=this.dragPosition.y>I.to),(e||V)&&(!e||!V)){var f=e?c.from:c.to,Vc=f-this.dragPosition.x;this.dragPosition.x=f-.3*Vc}if((g||R)&&(!g||!R)){var N=g?I.from:I.to,fB=N-this.dragPosition.y;this.dragPosition.y=N-.3*fB}}}},{key:"setDragForce",value:function(){"pointerdown"===this.state&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}},{key:"recalculateTransform",value:function(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1),this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1),this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}},{key:"isAnimating",value:function(){return!(!this.friction||!(Math.abs(this.velocity.x)>.05||Math.abs(this.velocity.y)>.05||Math.abs(this.velocity.scale)>.05))}},{key:"setTransform",value:function(e){var V,R,gD,c,I;(e?(V=af(this.transform.x),R=af(this.transform.y),gD=this.transform.scale,this.content=g(g({},this.content),{},{x:V,y:R,scale:gD})):(V=af(this.content.x),R=af(this.content.y),gD=this.content.scale/(this.content.width/this.content.fitWidth),this.content=g(g({},this.content),{},{x:V,y:R})),this.trigger("beforeTransform"),V=af(this.content.x),R=af(this.content.y),e&&this.option("zoom"))?(c=af(this.content.fitWidth*gD),I=af(this.content.fitHeight*gD),this.content.width=c,this.content.height=I,this.transform=g(g({},this.transform),{},{width:c,height:I,scale:gD}),Object.assign(this.$content.style,{width:"".concat(c,"px"),height:"".concat(I,"px"),maxWidth:"none",maxHeight:"none",transform:"translate3d(".concat(V,"px, ").concat(R,"px, 0) scale(1)")})):this.$content.style.transform="translate3d(".concat(V,"px, ").concat(R,"px, 0) scale(").concat(gD,")");this.trigger("afterTransform")}},{key:"endAnimation",value:function(){cancelAnimationFrame(this.rAF),this.rAF=null,this.velocity={x:0,y:0,scale:0},this.setTransform(!0),this.state="ready",this.handleCursor()}},{key:"handleCursor",value:function(){var e=this.option("draggableClass");e&&this.option("touch")&&(1==this.option("panOnlyZoomed")&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(e):this.$container.classList.add(e))}},{key:"detachEvents",value:function(){this.$content.removeEventListener("load",this.onLoad),this.$container.removeEventListener("wheel",this.onWheel,{passive:!1}),this.$container.removeEventListener("click",this.onClick,{passive:!1}),this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"destroy",value:function(){"destroy"!==this.state&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}]),R}(gJ);fZ.version="4.0.0-beta.2",fZ.Plugins={};var ec=function(e,V){var g=0;return function(){var R=(new Date).getTime();if(!(R-g<V))return g=R,e.apply(void 0,arguments)}},d=function(){function e(V){gD(this,e),this.$container=null,this.$prev=null,this.$next=null,this.carousel=V,this.onRefresh=this.onRefresh.bind(this)}return I(e,[{key:"option",value:function(e){return this.carousel.option("Navigation.".concat(e))}},{key:"createButton",value:function(e){var V,g=this,R=document.createElement("button");R.setAttribute("title",this.carousel.localize("{{".concat(e.toUpperCase(),"}}")));var gD=this.option("classNames.button")+" "+this.option("classNames.".concat(e));return(V=R.classList).add.apply(V,M(gD.split(" "))),R.setAttribute("tabindex","0"),R.innerHTML=this.carousel.localize(this.option("".concat(e,"Tpl"))),R.addEventListener("click",function(V){V.preventDefault(),V.stopPropagation(),g.carousel["slide".concat("next"===e?"Next":"Prev")]()}),R}},{key:"build",value:function(){this.$container||(this.$container=document.createElement("div"),this.$container.classList.add(this.option("classNames.main")),this.carousel.$container.appendChild(this.$container)),this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next)),this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}},{key:"onRefresh",value:function(){var e=this.carousel.pages.length;e<=1||e>1&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(this.carousel.page<=0&&this.$prev.setAttribute("disabled",""),this.carousel.page>=e-1&&this.$next.setAttribute("disabled","")))}},{key:"cleanup",value:function(){this.$prev&&this.$prev.remove(),this.$prev=null,this.$next&&this.$next.remove(),this.$next=null,this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.carousel.on("refresh change",this.onRefresh)}},{key:"detach",value:function(){this.carousel.off("refresh change",this.onRefresh),this.cleanup()}}]),e}();d.defaults={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};var U=function(){function e(V){gD(this,e),this.carousel=V,this.$list=null,this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}return I(e,[{key:"buildList",value:function(){var e=this;if(!(this.carousel.pages.length<2)){var V=document.createElement("ol");return V.classList.add("carousel__dots"),V.addEventListener("click",function(V){if("page"in V.target.dataset){V.preventDefault(),V.stopPropagation();var g=parseInt(V.target.dataset.page,10),R=e.carousel;g!==R.page&&(R.pages.length<3&&R.option("infinite")?R[0==g?"slidePrev":"slideNext"]():R.slideTo(g))}}),this.$list=V,this.carousel.$container.appendChild(V),this.carousel.$container.classList.add("has-dots"),V}}},{key:"removeList",value:function(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null),this.carousel.$container.classList.remove("has-dots")}},{key:"rebuildDots",value:function(){var e=this,V=this.$list,g=!!V,R=this.carousel.pages.length;if(R<2)g&&this.removeList();else{g||(V=this.buildList());var gD=this.$list.children.length;if(gD>R)for(var c=R;c<gD;c++)this.$list.removeChild(this.$list.lastChild);else{for(var I=function(V){var g=document.createElement("li");g.classList.add("carousel__dot"),g.dataset.page=V,g.setAttribute("role","button"),g.setAttribute("tabindex","0"),g.setAttribute("title",e.carousel.localize("{{GOTO}}",[["%d",V+1]])),g.addEventListener("keydown",function(e){var V,R=e.code;"Enter"===R||"NumpadEnter"===R?V=g:"ArrowRight"===R?V=g.nextSibling:"ArrowLeft"===R&&(V=g.previousSibling),V&&V.click()}),e.$list.appendChild(g)},f=gD;f<R;f++)I(f);this.setActiveDot()}}}},{key:"setActiveDot",value:function(){if(this.$list){this.$list.childNodes.forEach(function(e){e.classList.remove("is-selected")});var e=this.$list.childNodes[this.carousel.page];e&&e.classList.add("is-selected")}}},{key:"onChange",value:function(){this.setActiveDot()}},{key:"onRefresh",value:function(){this.rebuildDots()}},{key:"attach",value:function(){this.carousel.on(this.events)}},{key:"detach",value:function(){this.removeList(),this.carousel.off(this.events),this.carousel=null}}]),e}(),dK=function(){function e(V){gD(this,e),this.carousel=V,this.selectedIndex=null,this.friction=0,this.onNavReady=this.onNavReady.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onNavCreateSlide=this.onNavCreateSlide.bind(this),this.onTargetChange=this.onTargetChange.bind(this)}return I(e,[{key:"addAsTargetFor",value:function(e){this.target=this.carousel,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.target=e,this.nav=this.carousel,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.on("createSlide",this.onNavCreateSlide),this.nav.on("Panzoom.click",this.onNavClick),this.target.on("change",this.onTargetChange),this.target.on("Panzoom.afterUpdate",this.onTargetChange)}},{key:"onNavReady",value:function(){this.onTargetChange(!0)}},{key:"onNavClick",value:function(e,V,g){var R=g.target.closest(".carousel__slide");if(R){g.stopPropagation();var gD=parseInt(R.dataset.index,10),c=this.target.findPageForSlide(gD);this.target.page!==c&&this.target.slideTo(c,{friction:this.friction}),this.markSelectedSlide(gD)}}},{key:"onNavCreateSlide",value:function(e,V){V.index===this.selectedIndex&&this.markSelectedSlide(V.index)}},{key:"onTargetChange",value:function(){var e=this.target.pages[this.target.page].indexes[0],V=this.nav.findPageForSlide(e);this.nav.slideTo(V),this.markSelectedSlide(e)}},{key:"markSelectedSlide",value:function(e){this.selectedIndex=e,M(this.nav.slides).filter(function(e){return e.$el&&e.$el.classList.remove("is-nav-selected")});var V=this.nav.slides[e];V&&V.$el&&V.$el.classList.add("is-nav-selected")}},{key:"attach",value:function(e){var V=e.options.Sync;(V.target||V.nav)&&(V.target?this.addAsNavFor(V.target):V.nav&&this.addAsTargetFor(V.nav),this.friction=V.friction)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide)),this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}]),e}();dK.defaults={friction:.92};var bf={Navigation:d,Dots:U,Sync:dK},i={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide %d"}},k=function(e){Vc(R,e);var V=aV(R);function R(e){var g,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(gD(this,R),c=h(!0,{},i,c),(g=V.call(this,c)).state="init",g.$container=e,!(g.$container instanceof HTMLElement))throw new Error("No root element provided");return g.slideNext=ec(g.slideNext.bind(a(g)),250),g.slidePrev=ec(g.slidePrev.bind(a(g)),250),g.init(),g}return I(R,[{key:"init",value:function(){this.pages=[],this.page=this.pageIndex=null,this.prevPage=this.prevPageIndex=null,this.attachPlugins(R.Plugins),this.trigger("init"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.$track.style.transform="translate3d(".concat(-1*this.pages[this.page].left,"px, 0px, 0) scale(1)"),this.manageSlideVisiblity(),this.initPanzoom(),this.state="ready",this.trigger("ready")}},{key:"initLayout",value:function(){var e,V,g=this.option("classNames");(this.$viewport=this.option("viewport")||this.$container.querySelector("."+g.viewport),this.$viewport)||(this.$viewport=document.createElement("div"),this.$viewport.classList.add(g.viewport),(e=this.$viewport).append.apply(e,M(this.$container.childNodes)),this.$container.appendChild(this.$viewport));(this.$track=this.option("track")||this.$container.querySelector("."+g.track),this.$track)||(this.$track=document.createElement("div"),this.$track.classList.add(g.track),(V=this.$track).append.apply(V,M(this.$viewport.childNodes)),this.$viewport.appendChild(this.$track))}},{key:"initSlides",value:function(){var e=this;this.slides=[],this.$viewport.querySelectorAll("."+this.option("classNames.slide")).forEach(function(V){var g={$el:V,isDom:!0};e.slides.push(g),e.trigger("createSlide",g,e.slides.length)}),Array.isArray(this.options.slides)&&(this.slides=h(!0,M(this.slides),this.options.slides))}},{key:"updateMetrics",value:function(){var e,V=this,R=0,gD=[];this.slides.forEach(function(g,c){var I=g.$el,f=g.isDom||!e?V.getSlideMetrics(I):e;g.index=c,g.width=f,g.left=R,e=f,R+=f,gD.push(c)});var c=Math.max(this.$track.offsetWidth,af(this.$track.getBoundingClientRect().width)),I=window.getComputedStyle(this.$track);c-=parseFloat(I.paddingLeft)+parseFloat(I.paddingRight),this.contentWidth=R,this.viewportWidth=c;var f=[],Vc=this.option("slidesPerPage");if(Number.isInteger(Vc)&&R>c)for(var N=0;N<this.slides.length;N+=Vc)f.push({indexes:gD.slice(N,N+Vc),slides:this.slides.slice(N,N+Vc)});else for(var fB=0,a=0,S=0;S<this.slides.length;S+=1){var aV=this.slides[S];(!f.length||a+aV.width>c)&&(f.push({indexes:[],slides:[]}),fB=f.length-1,a=0),a+=aV.width,f[fB].indexes.push(S),f[fB].slides.push(aV)}var b=this.option("center"),cg=this.option("fill");f.forEach(function(e,g){e.index=g,e.width=e.slides.reduce(function(e,V){return e+V.width},0),e.left=e.slides[0].left,b&&(e.left+=.5*(c-e.width)*-1),cg&&!V.option("infiniteX",V.option("infinite"))&&R>c&&(e.left=Math.max(e.left,0),e.left=Math.min(e.left,R-c))});var aA,cD=[];f.forEach(function(e){var V=g({},e);aA&&V.left===aA.left?(aA.width+=V.width,aA.slides=[].concat(M(aA.slides),M(V.slides)),aA.indexes=[].concat(M(aA.indexes),M(V.indexes))):(V.index=cD.length,aA=V,cD.push(V))}),this.pages=cD;var fX=this.page;if(null===fX){var h=this.option("initialSlide");fX=null!==h?this.findPageForSlide(h):this.option("initialPage",0),cD[fX]||(fX=cD.length&&fX>cD.length?cD[cD.length-1].index:0),this.page=fX,this.pageIndex=fX}this.updatePanzoom(),this.trigger("refresh")}},{key:"getSlideMetrics",value:function(e){if(!e){var V,g=this.slides[0];if((e=document.createElement("div")).dataset.isTestEl=1,e.style.visibility="hidden",e.classList.add(this.option("classNames.slide")),g.customClass)(V=e.classList).add.apply(V,M(g.customClass.split(" ")));this.$track.prepend(e)}var R=Math.max(e.offsetWidth,af(e.getBoundingClientRect().width)),gD=e.currentStyle||window.getComputedStyle(e);return R=R+(parseFloat(gD.marginLeft)||0)+(parseFloat(gD.marginRight)||0),e.dataset.isTestEl&&e.remove(),R}},{key:"findPageForSlide",value:function(e){var V=this.pages.find(function(V){return V.indexes.indexOf(e)>-1});return V?V.index:null}},{key:"slideNext",value:function(){this.slideTo(this.pageIndex+1)}},{key:"slidePrev",value:function(){this.slideTo(this.pageIndex-1)}},{key:"slideTo",value:function(e){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=V.x,R=void 0===g?-1*this.setPage(e,!0):g,gD=V.y,c=void 0===gD?0:gD,I=V.friction,f=void 0===I?this.option("friction"):I;this.Panzoom.content.x===R&&!this.Panzoom.velocity.x&&f||(this.Panzoom.panTo({x:R,y:c,friction:f,ignoreBounds:!0}),"ready"===this.state&&"ready"===this.Panzoom.state&&this.trigger("settle"))}},{key:"initPanzoom",value:function(){var e=this;this.Panzoom&&this.Panzoom.destroy();var V=h(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:-1*this.pages[this.page].left,centerOnStart:!1,textSelection:function(){return e.option("textSelection",!1)},panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom"));this.Panzoom=new fZ(this.$container,V),this.Panzoom.on({"*":function(V){for(var g=arguments.length,R=new Array(g>1?g-1:0),gD=1;gD<g;gD++)R[gD-1]=arguments[gD];return e.trigger.apply(e,["Panzoom.".concat(V)].concat(R))},afterUpdate:function(){e.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:function(){e.trigger("settle")}}),this.updateMetrics(),this.manageSlideVisiblity()}},{key:"updatePanzoom",value:function(){this.Panzoom&&(this.Panzoom.content=g(g({},this.Panzoom.content),{},{fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth}),this.pages.length>1&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left},this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}},{key:"manageSlideVisiblity",value:function(){var e=this,V=this.contentWidth,g=this.viewportWidth,R=this.Panzoom?-1*this.Panzoom.content.x:this.pages[this.page].left,gD=this.option("preload"),c=this.option("infiniteX",this.option("infinite")),I=parseFloat(window.getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),f=parseFloat(window.getComputedStyle(this.$viewport,null).getPropertyValue("padding-right"));this.slides.forEach(function(Vc){var N,fB,a=0;N=R-I,fB=R+g+f,N-=gD*(g+I+f),fB+=gD*(g+I+f);var S=Vc.left+Vc.width>N&&Vc.left<fB;N=R+V-I,fB=R+V+g+f,N-=gD*(g+I+f);var aV=c&&Vc.left+Vc.width>N&&Vc.left<fB;N=R-V-I,fB=R-V+g+f,N-=gD*(g+I+f);var b=c&&Vc.left+Vc.width>N&&Vc.left<fB;aV||S||b?(e.createSlideEl(Vc),S&&(a=0),aV&&(a=-1),b&&(a=1),Vc.left+Vc.width>R&&Vc.left<=R+g+f&&(a=0)):e.removeSlideEl(Vc),Vc.hasDiff=a});var Vc=0,N=0;this.slides.forEach(function(e,g){var R=0;e.$el?(g!==Vc||e.hasDiff?R=N+e.hasDiff*V:N=0,e.$el.style.left=Math.abs(R)>.1?"".concat(N+e.hasDiff*V,"px"):"",Vc++):N+=e.width}),this.markSelectedSlides()}},{key:"createSlideEl",value:function(e){if(e){if(!e.$el){var V,g=document.createElement("div");if(g.dataset.index=e.index,g.classList.add(this.option("classNames.slide")),e.customClass)(V=g.classList).add.apply(V,M(e.customClass.split(" ")));e.html&&(g.innerHTML=e.html);var R=[];this.slides.forEach(function(e,V){e.$el&&R.push(V)});var gD=e.index,c=null;if(R.length){var I=R.reduce(function(e,V){return Math.abs(V-gD)<Math.abs(e-gD)?V:e});c=this.slides[I]}return this.$track.insertBefore(g,c&&c.$el?c.index<e.index?c.$el.nextSibling:c.$el:null),e.$el=g,this.trigger("createSlide",e,gD),e}var f;parseInt(e.$el.dataset.index,10)!==e.index&&(e.$el.dataset.index=e.index,e.$el.querySelectorAll("[data-lazy-src]").forEach(function(e){var V=e.dataset.lazySrc;e instanceof HTMLImageElement?e.src=V:e.style.backgroundImage="url('".concat(V,"')")}),(f=e.$el.dataset.lazySrc)&&(e.$el.style.backgroundImage="url('".concat(f,"')")),e.state="ready")}}},{key:"removeSlideEl",value:function(e){e.$el&&!e.isDom&&(this.trigger("removeSlide",e),e.$el.remove(),e.$el=null)}},{key:"markSelectedSlides",value:function(){var e=this,V=this.option("classNames.slideSelected"),g="aria-hidden";this.slides.forEach(function(R,gD){var c=R.$el;if(c){var I=e.pages[e.page];I&&I.indexes&&I.indexes.indexOf(gD)>-1?(V&&!c.classList.contains(V)&&(c.classList.add(V),e.trigger("selectSlide",R)),c.removeAttribute(g)):(V&&c.classList.contains(V)&&(c.classList.remove(V),e.trigger("unselectSlide",R)),c.setAttribute(g,!0))}})}},{key:"updatePage",value:function(){this.updateMetrics(),this.slideTo(this.page,{friction:0})}},{key:"onBeforeTransform",value:function(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack(),this.manageSlideVisiblity()}},{key:"manageInfiniteTrack",value:function(){var e=this.contentWidth,V=this.viewportWidth;if(!(!this.option("infiniteX",this.option("infinite"))||this.pages.length<2||e<V)){var g=this.Panzoom,R=!1;return g.content.x<-1*(e-V)&&(g.content.x+=e,this.pageIndex=this.pageIndex-this.pages.length,R=!0),g.content.x>V&&(g.content.x-=e,this.pageIndex=this.pageIndex+this.pages.length,R=!0),R&&"pointerdown"===g.state&&g.resetDragPosition(),R}}},{key:"onTouchEnd",value:function(e,V){var g=this.option("dragFree");if(!g&&this.pages.length>1&&e.dragOffset.time<350&&Math.abs(e.dragOffset.y)<1&&Math.abs(e.dragOffset.x)>5)this[e.dragOffset.x<0?"slideNext":"slidePrev"]();else if(g){var R=b(this.getPageFromPosition(-1*e.transform.x),2)[1];this.setPage(R)}else this.slideToClosest()}},{key:"slideToClosest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},V=this.getPageFromPosition(-1*this.Panzoom.content.x),g=b(V,2),R=g[1];this.slideTo(R,e)}},{key:"getPageFromPosition",value:function(e){var V=this.pages.length;this.option("center")&&(e+=.5*this.viewportWidth);var g=Math.floor(e/this.contentWidth);e-=g*this.contentWidth;var R=this.slides.find(function(V){return V.left<=e&&V.left+V.width>e});if(R){var gD=this.findPageForSlide(R.index);return[gD,gD+g*V]}return[0,0]}},{key:"setPage",value:function(e,V){var g=0,R=parseInt(e,10)||0,gD=this.page,c=this.pageIndex,I=this.pages.length,f=this.contentWidth,Vc=this.viewportWidth;if(e=(R%I+I)%I,this.option("infiniteX",this.option("infinite"))&&f>Vc){var N=Math.floor(R/I)||0,fB=f;if(g=this.pages[e].left+N*fB,!0===V&&I>2){var a=-1*this.Panzoom.content.x,S=g-fB,aV=g+fB,b=Math.abs(a-g),M=Math.abs(a-S),cg=Math.abs(a-aV);cg<b&&cg<=M?(g=aV,R+=I):M<b&&M<cg&&(g=S,R-=I)}}else e=R=Math.max(0,Math.min(R,I-1)),g=this.pages[e].left;return this.page=e,this.pageIndex=R,null!==gD&&e!==gD&&(this.prevPage=gD,this.prevPageIndex=c,this.trigger("change",e,gD)),g}},{key:"destroy",value:function(){var e=this;this.state="destroy",this.slides.forEach(function(V){e.removeSlideEl(V)}),this.slides=[],this.Panzoom.destroy(),this.detachPlugins()}}]),R}(gJ);k.version="4.0.0-beta.2",k.Plugins=bf;var l=!!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.document.body),m=function(){function e(V){gD(this,e),this.fancybox=V,this.viewport=null,this.pendingUpdate=null;for(var g=0,R=["onReady","onResize","onTouchstart","onTouchmove"];g<R.length;g++){var c=R[g];this[c]=this[c].bind(this)}}return I(e,[{key:"onReady",value:function(){var e=window.visualViewport;e&&(this.viewport=e,this.startY=0,e.addEventListener("resize",this.onResize),this.updateViewport()),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1})}},{key:"onResize",value:function(){this.updateViewport()}},{key:"updateViewport",value:function(){var e=this.fancybox,V=this.viewport,g=V.scale||1,R=e.$container;if(R){var gD="",c="",I="";g-1>.1&&(gD="".concat(V.width*g,"px"),c="".concat(V.height*g,"px"),I="translate3d(".concat(V.offsetLeft,"px, ").concat(V.offsetTop,"px, 0) scale(").concat(1/g,")")),R.style.width=gD,R.style.height=c,R.style.transform=I}}},{key:"onTouchstart",value:function(e){this.startY=e.touches?e.touches[0].screenY:e.screenY}},{key:"onTouchmove",value:function(e){var V=this.startY,g=window.innerWidth/window.document.documentElement.clientWidth;if(!(e.touches.length>1||1!==g)){var R=e.target,gD=gH(R);if(gD){var c=window.getComputedStyle(gD),I=parseInt(c.getPropertyValue("height"),10),f=e.touches?e.touches[0].screenY:e.screenY,Vc=V<=f&&0===gD.scrollTop,N=V>=f&&gD.scrollHeight-gD.scrollTop===I;(Vc||N)&&e.preventDefault()}else e.preventDefault()}}},{key:"cleanup",value:function(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);var e=this.viewport;e&&(e.removeEventListener("resize",this.onResize),this.viewport=null),window.removeEventListener("touchstart",this.onTouchstart,!1),window.removeEventListener("touchmove",this.onTouchmove,!1)}},{key:"attach",value:function(){this.fancybox.on("initLayout",this.onReady)}},{key:"detach",value:function(){this.fancybox.off("initLayout",this.onReady),this.cleanup()}}]),e}(),n=function(){function e(V){gD(this,e),this.fancybox=V,this.$container=null,this.state="init";for(var g=0,R=["onPrepare","onClosing","onKeydown"];g<R.length;g++){var c=R[g];this[c]=this[c].bind(this)}this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}return I(e,[{key:"onPrepare",value:function(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":!0===this.fancybox.option("Thumbs.autoStart")&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}},{key:"onClosing",value:function(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}},{key:"onKeydown",value:function(e,V){V===e.option("Thumbs.key")&&this.toggle()}},{key:"build",value:function(){var e=this;if(!this.$container){var V=document.createElement("div");V.classList.add("fancybox__thumbs"),this.fancybox.$carousel.parentNode.insertBefore(V,this.fancybox.$carousel.nextSibling),this.Carousel=new k(V,h(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()})),this.Carousel.Panzoom.on("wheel",function(V,g){g.preventDefault(),e.fancybox[g.deltaY<0?"prev":"next"]()}),this.$container=V,this.state="visible"}}},{key:"getSlides",value:function(){var e,V=[],g=cD(this.fancybox.items);try{for(g.s();!(e=g.n()).done;){var R=e.value,gD=R.thumb;gD&&V.push({html:'<div class="fancybox__thumb" style="background-image:url(\''.concat(gD,"')\"></div>"),customClass:"has-thumb has-".concat(R.type||"image")})}}catch(e){g.e(e)}finally{g.f()}return V}},{key:"toggle",value:function(){return"visible"===this.state?(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",void(this.state="hidden")):"hidden"===this.state?(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),void(this.state="visible")):void this.build()}},{key:"cleanup",value:function(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null),this.$container&&(this.$container.remove(),this.$container=null),this.state="init"}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),e}();n.defaults={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t"};var o=function(e){return Object.entries(e).map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")},p=function(){function e(V){gD(this,e),this.fancybox=V;for(var g=0,R=["onInit","onReady","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","onRefresh","onMessage"];g<R.length;g++){var c=R[g];this[c]=this[c].bind(this)}this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}return I(e,[{key:"onInit",value:function(){var e,V=cD(this.fancybox.items);try{for(V.s();!(e=V.n()).done;){var g=e.value;this.processType(g)}}catch(e){V.e(e)}finally{V.f()}}},{key:"processType",value:function(e){if(e.html)return e.src=e.html,e.type="html",void delete e.html;var V=e.src||"",g=e.type||this.fancybox.options.type,R=null;if(!V||"string"==typeof V){if(R=V.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var gD=o(this.fancybox.option("Html.youtube")),c=encodeURIComponent(R[1]);e.videoId=c,e.src="https://www.youtube-nocookie.com/embed/".concat(c,"?").concat(gD),e.thumb=e.thumb||"https://i.ytimg.com/vi/".concat(c,"/mqdefault.jpg"),e.vendor="youtube",g="video"}else if(R=V.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/)){var I=o(this.fancybox.option("Html.vimeo")),f=encodeURIComponent(R[1]);e.videoId=f,e.src="https://player.vimeo.com/video/".concat(f,"?").concat(I),e.vendor="vimeo",g="video"}else(R=V.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="//maps.google.".concat(R[1],"/?ll=").concat((R[2]?R[2]+"&z="+Math.floor(R[3])+(R[4]?R[4].replace(/^\//,"&"):""):R[4]+"").replace(/\?/,"&"),"&output=").concat(R[4]&&R[4].indexOf("layer=c")>0?"svembed":"embed"),g="map"):(R=V.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="//maps.google.".concat(R[1],"/maps?q=").concat(R[2].replace("query=","q=").replace("api=1",""),"&output=embed"),g="map");g||("#"===V.charAt(0)?g="inline":(R=V.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(g="html5video",e.format=e.format||"video/"+("ogv"===R[1]?"ogg":R[1])):V.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?g="image":V.match(/\.(pdf)((\?|#).*)?$/i)&&(g="pdf")),e.type=g||this.fancybox.option("defaultType","image"),"html5video"!==g&&"video"!==g||(e.video=h({},this.fancybox.option("Html.video"),e.video),e.width&&e.height?e.ratio=parseFloat(e.width)/parseFloat(e.height):e.ratio=e.ratio||e.video.ratio)}}},{key:"onReady",value:function(){var e=this;this.fancybox.Carousel.slides.forEach(function(V){V.$el&&(e.setContent(V),V.index===e.fancybox.getSlide().index&&e.playVideo(V))})}},{key:"onCreateSlide",value:function(e,V,g){"ready"===this.fancybox.state&&this.setContent(g)}},{key:"loadInlineContent",value:function(e){var V;if(e.src instanceof HTMLElement)V=e.src;else if("string"==typeof e.src){var g=e.src.split("#",2),R=2===g.length&&""===g[0]?g[1]:g[0];V=document.getElementById(R)}if(V){if("clone"===e.type||V.$placeHolder){var gD=(V=V.cloneNode(!0)).getAttribute("id");gD=gD?"".concat(gD,"--clone"):"clone-".concat(this.fancybox.id,"-").concat(e.index),V.setAttribute("id",gD)}else{var c=document.createElement("div");c.classList.add("fancybox-placeholder"),V.parentNode.insertBefore(c,V),V.$placeHolder=c}this.fancybox.setContent(e,V)}else this.fancybox.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"loadAjaxContent",value:function(e){var V=this.fancybox,g=new XMLHttpRequest;V.showLoading(e),g.onreadystatechange=function(){g.readyState===XMLHttpRequest.DONE&&"ready"===V.state&&(V.hideLoading(e),200===g.status?V.setContent(e,g.responseText):V.setError(e,404===g.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))},g.open("GET",e.src),g.send(e.ajax||null),e.xhr=g}},{key:"loadIframeContent",value:function(e){var V=this,g=this.fancybox,R=document.createElement("iframe");if(R.className="fancybox__iframe",R.setAttribute("id","fancybox__iframe_".concat(g.id,"_").concat(e.index)),R.setAttribute("allow","autoplay; fullscreen"),R.setAttribute("scrolling","auto"),e.$iframe=R,"iframe"!==e.type||!1===e.preload)return R.setAttribute("src",e.src),void this.fancybox.setContent(e,R);g.showLoading(e);var gD=document.createElement("div");gD.style.visibility="hidden",this.fancybox.setContent(e,gD),gD.appendChild(R),R.onerror=function(){g.setError(e,"{{IFRAME_ERROR}}")},R.onload=function(){g.hideLoading(e);var gD=!1;"yes"!==R.dataset.ready&&(R.dataset.ready="yes",gD=!0),R.src.length&&(R.parentNode.style.visibility="",!1!==e.autoSize&&V.autoSizeIframe(R),gD&&g.revealContent(e))},R.setAttribute("src",e.src)}},{key:"setAspectRatio",value:function(e){var V=e.ratio;if(V&&e.$content){e.$content.style.maxWidth="",e.$content.style.maxHeight="";var g=e.$content.offsetWidth,R=e.$content.offsetHeight,gD=e.width,c=e.height;if(gD&&c&&(g>gD||R>c)){var I=Math.min(gD/g,c/R);g*=I,R*=I}V<g/R?g=R*V:R=g/V,e.$content.style.maxWidth="".concat(g,"px"),e.$content.style.maxHeight="".concat(R,"px")}}},{key:"autoSizeIframe",value:function(e){if(e.dataset&&"yes"===e.dataset.ready){var V=e.parentNode.style;V.flex="1 1 auto",V.width="",V.height="";try{var g=e.contentWindow.document,R=g.getElementsByTagName("html")[0],gD=g.body,c=window.getComputedStyle(e.parentNode),I=parseFloat(c.paddingLeft)+parseFloat(c.paddingRight),f=parseFloat(c.paddingTop)+parseFloat(c.paddingBottom);gD.style.overflow="hidden";var Vc=R.scrollWidth;V.width="".concat(Vc+I,"px"),gD.style.overflow="",V.flex="",V.flexShrink="0",V.height="".concat(gD.scrollHeight,"px");var N=R.scrollHeight;V.height="".concat(N+f,"px")}catch(e){V=""}}}},{key:"onRefresh",value:function(e,V){var g=this;V.slides.forEach(function(e){e.$el&&(e.$iframe&&!1!==e.autoSize&&g.autoSizeIframe(e.$iframe),e.ratio&&g.setAspectRatio(e))})}},{key:"setContent",value:function(e){if(e&&!e.isDom){switch(e.type){case"html":this.fancybox.setContent(e,e.src);break;case"html5video":this.fancybox.setContent(e,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,e.src).replace("{{format}}",e.format||e.html5video&&e.html5video.format||"").replace("{{poster}}",e.thumb||""));break;case"inline":case"clone":this.loadInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"iframe":case"pdf":case"video":case"map":this.loadIframeContent(e)}e.ratio&&this.setAspectRatio(e)}}},{key:"onSelectSlide",value:function(e,V,g){"ready"===e.state&&this.playVideo(g)}},{key:"playVideo",value:function(e){if("html5video"===e.type){var V=e.$el.querySelector("video");if(V)try{V.play()}catch(e){}}if("video"===e.type&&e.$iframe&&e.$iframe.contentWindow){!function V(){if("done"===e.state&&e.$iframe&&e.$iframe.contentWindow){var g;if(e.$iframe.isReady)return e.video&&e.video.autoplay&&(g="youtube"==e.vendor?{event:"command",func:"playVideo"}:{method:"play",value:"true"}),void(g&&e.$iframe.contentWindow.postMessage(JSON.stringify(g),"*"));"youtube"===e.vendor&&(g={event:"listening",id:e.$iframe.getAttribute("id")},e.$iframe.contentWindow.postMessage(JSON.stringify(g),"*")),e.poller=setTimeout(V,250)}}()}}},{key:"onUnselectSlide",value:function(e,V,g){if("html5video"!==g.type){var R=!1;"vimeo"==g.vendor?R={method:"pause",value:"true"}:"youtube"===g.vendor&&(R={event:"command",func:"pauseVideo"}),R&&g.$iframe&&g.$iframe.contentWindow&&g.$iframe.contentWindow.postMessage(JSON.stringify(R),"*"),clearTimeout(g.poller)}else try{g.$el.querySelector("video").pause()}catch(e){}}},{key:"onRemoveSlide",value:function(e,V,g){g.xhr&&(g.xhr.abort(),g.xhr=null),g.$iframe&&(g.$iframe.onload=g.$iframe.onerror=null,g.$iframe.src="//about:blank",g.$iframe=null);var R=g.$content;"inline"===g.type&&R&&(R.classList.remove("fancybox__content"),"none"!==R.style.display&&(R.style.display="none"),g.$closeButton&&(g.$closeButton.remove(),g.$closeButton=null));var gD=R&&R.$placeHolder;gD&&(gD.parentNode.insertBefore(R,gD),gD.remove(),R.$placeHolder=null)}},{key:"onMessage",value:function(e){try{var V=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===V.event){var g,R=cD(document.getElementsByClassName("fancybox__iframe"));try{for(R.s();!(g=R.n()).done;){var gD=g.value;gD.contentWindow===e.source&&(gD.isReady=1)}}catch(e){R.e(e)}finally{R.f()}}}else"https://www.youtube-nocookie.com"===e.origin&&"onReady"===V.event&&(document.getElementById(V.id).isReady=1)}catch(e){}}},{key:"attach",value:function(){this.fancybox.on(this.events),window.addEventListener("message",this.onMessage,!1)}},{key:"detach",value:function(){this.fancybox.off(this.events),window.removeEventListener("message",this.onMessage,!1)}}]),e}();p.defaults={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />\n  Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!\n</video>',format:""}};var q=function(){function e(V){gD(this,e),this.fancybox=V;for(var g=0,R=["onReady","onClosing","onDone","onPageChange","onCreateSlide","onRemoveSlide","onImageStatusChange"];g<R.length;g++){var c=R[g];this[c]=this[c].bind(this)}this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}return I(e,[{key:"onReady",value:function(){var e=this;this.fancybox.Carousel.slides.forEach(function(V){V.$el&&e.setContent(V)})}},{key:"onDone",value:function(e,V){this.handleCursor(V)}},{key:"onClosing",value:function(e){clearTimeout(this.clickTimer),e.Carousel.slides.forEach(function(e){e.$image&&(e.state="destroy"),e.Panzoom&&e.Panzoom.detachEvents()}),"closing"===this.fancybox.state&&this.canZoom(e.getSlide())&&this.zoomOut()}},{key:"onCreateSlide",value:function(e,V,g){"ready"===this.fancybox.state&&this.setContent(g)}},{key:"onRemoveSlide",value:function(e,V,g){g.$image&&(g.$el.classList.remove(e.option("Image.canZoomInClass")),g.$image.remove(),g.$image=null),g.Panzoom&&(g.Panzoom.destroy(),g.Panzoom=null),g.$el&&g.$el.dataset&&delete g.$el.dataset.imageFit}},{key:"setContent",value:function(e){var V=this;if(!(e.isDom||e.html||e.type&&"image"!==e.type||e.$image)){e.type="image",e.state="loading";var g=document.createElement("div");g.style.visibility="hidden";var R=document.createElement("img");R.addEventListener("load",function(g){g.stopImmediatePropagation(),V.onImageStatusChange(e)}),R.addEventListener("error",function(){V.onImageStatusChange(e)}),R.src=e.src,R.alt="",R.draggable=!1,R.classList.add("fancybox__image"),e.srcset&&R.setAttribute("srcset",e.srcset),e.sizes&&R.setAttribute("sizes",e.sizes),e.$image=R;var gD=this.fancybox.option("Image.wrap");if(gD){var c=document.createElement("div");c.classList.add("string"==typeof gD?gD:"fancybox__image-wrap"),c.appendChild(R),g.appendChild(c),e.$wrap=c}else g.appendChild(R);e.$el.dataset.imageFit=this.fancybox.option("Image.fit"),this.fancybox.setContent(e,g),R.complete||R.error?this.onImageStatusChange(e):this.fancybox.showLoading(e)}}},{key:"onImageStatusChange",value:function(e){var V=this,g=e.$image;g&&"loading"===e.state&&(g.complete&&g.naturalWidth&&g.naturalHeight?(this.fancybox.hideLoading(e),"contain"===this.fancybox.option("Image.fit")&&this.initSlidePanzoom(e),e.$el.addEventListener("wheel",function(g){return V.onWheel(e,g)},{passive:!1}),e.$content.addEventListener("click",function(g){return V.onClick(e,g)},{passive:!1}),this.revealContent(e)):this.fancybox.setError(e,"{{IMAGE_ERROR}}"))}},{key:"initSlidePanzoom",value:function(e){var V=this;e.Panzoom||(e.Panzoom=new fZ(e.$el,h(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:e.$wrap,content:e.$image,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),e.Panzoom.on("startAnimation",function(){V.fancybox.trigger("Image.startAnimation",e)}),e.Panzoom.on("endAnimation",function(){"zoomIn"===e.state&&V.fancybox.done(e),V.handleCursor(e),V.fancybox.trigger("Image.endAnimation",e)}),e.Panzoom.on("afterUpdate",function(){V.handleCursor(e),V.fancybox.trigger("Image.afterUpdate",e)}))}},{key:"revealContent",value:function(e){null===this.fancybox.Carousel.prevPage&&e.index===this.fancybox.options.startIndex&&this.canZoom(e)?this.zoomIn():this.fancybox.revealContent(e)}},{key:"getZoomInfo",value:function(e){var V=e.$thumb.getBoundingClientRect(),g=V.width,R=V.height,gD=e.$content.getBoundingClientRect(),c=gD.width,I=gD.height,f=gD.top-V.top,Vc=gD.left-V.left,N=this.fancybox.option("Image.zoomOpacity");return"auto"===N&&(N=Math.abs(g/R-c/I)>.1),{top:f,left:Vc,scale:V.width/c,opacity:N}}},{key:"canZoom",value:function(e){var V=this.fancybox,g=V.$container;if(window.visualViewport&&1!==window.visualViewport.scale)return!1;if(!V.option("Image.zoom")||"contain"!==V.option("Image.fit"))return!1;var R=e.$thumb;if(!R||"loading"===e.state)return!1;g.classList.add("fancybox__no-click");var gD,c=R.getBoundingClientRect();if(this.fancybox.option("Image.ignoreCoveredThumbnail")){var I=document.elementFromPoint(c.left+1,c.top+1)===R,f=document.elementFromPoint(c.right-1,c.bottom-1)===R;gD=I&&f}else gD=document.elementFromPoint(c.left+.5*c.width,c.top+.5*c.height)===R;return g.classList.remove("fancybox__no-click"),gD}},{key:"zoomIn",value:function(){var e=this.fancybox,V=e.getSlide(),g=V.Panzoom,R=this.getZoomInfo(V),gD=R.top,c=R.left,I=R.scale,f=R.opacity;V.state="zoomIn",e.trigger("reveal",V),g.panTo({x:-1*c,y:-1*gD,scale:I,friction:0,ignoreBounds:!0}),V.$content.style.visibility="",!0===f&&g.on("afterTransform",function(e){"zoomIn"!==V.state&&"zoomOut"!==V.state||(e.$content.style.opacity=Math.min(1,1-(1-e.content.scale)/(1-I)))}),g.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}},{key:"zoomOut",value:function(){var e=this,V=this.fancybox,g=V.getSlide(),R=g.Panzoom;if(R){g.state="zoomOut",V.state="customClosing",g.$caption&&(g.$caption.style.visibility="hidden");var gD=this.fancybox.option("Image.zoomFriction"),c=function(V){var c=e.getZoomInfo(g),I=c.top,f=c.left,Vc=c.scale,N=c.opacity;V||N||(gD*=.82),R.panTo({x:-1*f,y:-1*I,scale:Vc,friction:gD,ignoreBounds:!0}),gD*=.98};window.addEventListener("scroll",c),R.on("endAnimation",function(){window.removeEventListener("scroll",c),V.destroy()}),c()}}},{key:"handleCursor",value:function(e){if("image"===e.type){var V=e.Panzoom,g=this.fancybox.option("Image.click"),R=e.$el.classList;if(V&&"toggleZoom"===g)R[V&&1===V.content.scale&&V.option("maxScale")-V.content.scale>.01?"add":"remove"](this.fancybox.option("Image.canZoomInClass"));else"close"===g&&R.add(this.fancybox.option("Image.canZoomOutClass"))}}},{key:"onWheel",value:function(e,V){if("ready"===this.fancybox.state&&!1!==this.fancybox.trigger("Image.wheel",V))switch(this.fancybox.option("Image.wheel")){case"zoom":e.Panzoom&&e.Panzoom.zoomWithWheel(V);break;case"close":this.fancybox.close();break;case"slide":this.fancybox[V.deltaY<0?"prev":"next"]()}}},{key:"onClick",value:function(e,V){var g=this;if("ready"===this.fancybox.state){var R=e.Panzoom;if(!R||!R.dragPosition.midPoint&&0===R.dragOffset.x&&0===R.dragOffset.y&&1===R.dragOffset.scale){if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;var gD=function(R){if(!1!==g.fancybox.trigger("Image.click",V))switch(R){case"toggleZoom":V.stopPropagation(),e.Panzoom&&e.Panzoom.zoomWithClick(V);break;case"close":g.fancybox.close();break;case"next":V.stopPropagation(),g.fancybox.next()}};this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null);var c=this.fancybox.option("Image.click"),I=this.fancybox.option("Image.doubleClick");I?1===V.detail?this.clickTimer=setTimeout(function(){gD(c)},300):2===V.detail&&gD(I):gD(c)}}}},{key:"onPageChange",value:function(e,V){var g=e.getSlide();V.slides.forEach(function(e){e.Panzoom&&"done"===e.state&&e.index!==g.index&&e.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events)}}]),e}();q.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};var r=function(){var e=window.location.hash.substr(1),V=e.split("-"),g=V.length>1&&/^\+?\d+$/.test(V[V.length-1])&&parseInt(V.pop(-1),10)||null;return{hash:e,slug:V.join("-"),index:g}},s=function(){function e(V){gD(this,e),this.fancybox=V;for(var g=0,R=["onChange","onClosing"];g<R.length;g++){var c=R[g];this[c]=this[c].bind(this)}this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing},this.hasCreatedHistory=!1,this.origHash="",this.timer=null}return I(e,[{key:"onChange",value:function(){var e=this,V=this.fancybox,g=V.Carousel;this.timer&&clearTimeout(this.timer);var R=null===g.prevPage,gD=V.getSlide(),c=gD.$trigger&&gD.$trigger.dataset,I=window.location.hash.substr(1),f=!1;if(gD.slug)f=gD.slug;else{var Vc=c&&c.fancybox;Vc&&Vc.length&&"true"!==Vc&&(f=Vc+(g.slides.length>1?"-"+(gD.index+1):""))}R&&(this.origHash=I!==f?this.origHash:""),f&&I!==f&&(this.timer=setTimeout(function(){try{window.history[R?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+"#"+f),R&&(e.hasCreatedHistory=!0)}catch(e){}},300))}},{key:"onClosing",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==this.hasSilentClose){if(!this.hasCreatedHistory)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash?"#"+this.origHash:""))}catch(e){}window.history.back()}}},{key:"attach",value:function(e){e.on(this.events)}},{key:"detach",value:function(e){e.off(this.events)}}],[{key:"startFromUrl",value:function(){if(!e.Fancybox.getInstance()){var V=r(),g=V.hash,R=V.slug,gD=V.index;if(R){var c=document.querySelector('[data-slug="'.concat(g,'"]'));if(c&&c.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!e.Fancybox.getInstance()){var I=document.querySelectorAll('[data-fancybox="'.concat(R,'"]'));I.length&&(null===gD&&1===I.length?c=I[0]:gD&&(c=I[gD-1]),c&&c.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}}}}},{key:"onHashChange",value:function(){var V=r(),g=V.slug,R=V.index,gD=e.Fancybox.getInstance();if(gD){if(g){var c,I=gD.Carousel,f=cD(I.slides);try{for(f.s();!(c=f.n()).done;){var Vc=c.value;if(Vc.slug&&Vc.slug===g)return I.slideTo(Vc.index)}}catch(e){f.e(e)}finally{f.f()}var N=gD.getSlide(),fB=N.$trigger&&N.$trigger.dataset;if(fB&&fB.fancybox===g)return I.slideTo(R-1)}gD.plugins.Hash.hasSilentClose=!0,gD.close()}e.startFromUrl()}},{key:"onReady",value:function(){window.addEventListener("hashchange",e.onHashChange,!1),e.startFromUrl()}},{key:"create",value:function(){l&&window.requestAnimationFrame(function(){e.onReady()})}},{key:"destroy",value:function(){window.removeEventListener("hashchange",e.onHashChange,!1)}}]),e}(),t={pageXOffset:0,pageYOffset:0,element:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},activate:function(e){t.pageXOffset=window.pageXOffset,t.pageYOffset=window.pageYOffset,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},deactivate:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},u=function(){function e(V){gD(this,e),this.fancybox=V,this.active=!1,this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}return I(e,[{key:"isActive",value:function(){return this.active}},{key:"setTimer",value:function(){var e=this;if(this.active&&!this.timer){var V=this.fancybox.option("slideshow.delay",3e3);this.timer=setTimeout(function(){e.timer=null,e.fancybox.option("infinite")||e.fancybox.getSlide().index!==e.fancybox.Carousel.slides.length-1?e.fancybox.next():e.fancybox.jumpTo(0,{friction:0})},V);var g=this.$progress;g||((g=document.createElement("div")).classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(g,this.fancybox.$carousel),this.$progress=g,g.offsetHeight),g.style.transitionDuration="".concat(V,"ms"),g.style.transform="scaleX(1)"}}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}},{key:"activate",value:function(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),"done"===this.fancybox.getSlide().state&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"handleVisibilityChange",value:function(){this.deactivate()}},{key:"deactivate",value:function(){this.active=!1,this.clearTimer(),this.fancybox.$container.classList.remove("has-slideshow"),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"toggle",value:function(){this.active?this.deactivate():this.fancybox.Carousel.slides.length>1&&this.activate()}}]),e}(),v={items:{counter:{type:"div",class:"fancybox__counter",html:'<span data-fancybox-index=""></span>&nbsp;/&nbsp;<span data-fancybox-count=""></span>',tabindex:-1,position:"left"},prev:{type:"button",class:"fancybox__button--prev",label:"PREV",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 4l-8 8 8 8"/></svg>',click:function(e){e.preventDefault(),this.fancybox.prev()}},next:{type:"button",class:"fancybox__button--next",label:"NEXT",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M8 4l8 8-8 8"/></svg>',click:function(e){e.preventDefault(),this.fancybox.next()}},fullscreen:{type:"button",class:"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1">\n                <g><path d="M3 8 V3h5"></path><path d="M21 8V3h-5"></path><path d="M8 21H3v-5"></path><path d="M16 21h5v-5"></path></g>\n                <g><path d="M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/></g>\n            </svg>',click:function(e){e.preventDefault(),t.element()?t.deactivate():t.activate(this.fancybox.$container)}},slideshow:{type:"button",class:"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1">\n                <g><path d="M6 4v16"/><path d="M20 12L6 20"/><path d="M20 12L6 4"/></g>\n                <g><path d="M7 4v15M17 4v15"/></g>\n            </svg>',click:function(e){e.preventDefault(),this.Slideshow.toggle()}},zoom:{type:"button",class:"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><circle cx="10" cy="10" r="7"></circle><path d="M16 16 L21 21"></svg>',click:function(e){e.preventDefault();var V=this.fancybox.getSlide().Panzoom;V&&V.toggleZoom()}},download:{type:"link",label:"DOWNLOAD",class:"fancybox__button--download",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/></svg>',click:function(e){e.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS",class:"fancybox__button--thumbs",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><circle cx="4" cy="4" r="1" /><circle cx="12" cy="4" r="1" transform="rotate(90 12 4)"/><circle cx="20" cy="4" r="1" transform="rotate(90 20 4)"/><circle cx="4" cy="12" r="1" transform="rotate(90 4 12)"/><circle cx="12" cy="12" r="1" transform="rotate(90 12 12)"/><circle cx="20" cy="12" r="1" transform="rotate(90 20 12)"/><circle cx="4" cy="20" r="1" transform="rotate(90 4 20)"/><circle cx="12" cy="20" r="1" transform="rotate(90 12 20)"/><circle cx="20" cy="20" r="1" transform="rotate(90 20 20)"/></svg>',click:function(e){e.stopPropagation();var V=this.fancybox.plugins.Thumbs;V&&V.toggle()}},close:{type:"button",label:"CLOSE",class:"fancybox__button--close",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"></path></svg>',tabindex:1,click:function(e){e.stopPropagation(),e.preventDefault(),this.fancybox.close()}}},display:["counter","zoom","slideshow","fullscreen","thumbs","close"],autoEnable:!0},w=function(){function e(V){var g=this;gD(this,e),this.fancybox=V,this.$container=null,this.state="init";for(var R=0,c=["onInit","onPrepare","onDone","onKeydown","onClosing","onChange","onSettle","onRefresh"];R<c.length;R++){var I=c[R];this[I]=this[I].bind(this)}this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":function(){return g.onRefresh()},"Image.startAnimation":function(e,V){return g.onRefresh(V)},"Image.afterUpdate":function(e,V){return g.onRefresh(V)}}}return I(e,[{key:"onInit",value:function(){if(this.fancybox.option("Toolbar.autoEnable")){var e,V=!1,g=cD(this.fancybox.items);try{for(g.s();!(e=g.n()).done;){if("image"===e.value.type){V=!0;break}}}catch(e){g.e(e)}finally{g.f()}if(!V)return void(this.state="disabled")}var R,gD=cD(this.fancybox.option("Toolbar.display"));try{for(gD.s();!(R=gD.n()).done;){var c=R.value;if("close"===(fX(c)?c.id:c)){this.fancybox.options.closeButton=!1;break}}}catch(e){gD.e(e)}finally{gD.f()}}},{key:"onPrepare",value:function(){if("init"===this.state&&(this.build(),this.update(),this.Slideshow=new u(this.fancybox),!this.fancybox.Carousel.prevPage&&(this.fancybox.option("slideshow.autoStart")&&this.Slideshow.activate(),this.fancybox.option("fullscreen.autoStart")&&!t.element())))try{t.activate(this.fancybox.$container)}catch(e){}}},{key:"onFsChange",value:function(){window.scrollTo(t.pageXOffset,t.pageYOffset)}},{key:"onSettle",value:function(){this.Slideshow&&this.Slideshow.isActive()&&(this.fancybox.getSlide().index!==this.fancybox.Carousel.slides.length-1||this.fancybox.option("infinite")?"done"===this.fancybox.getSlide().state&&this.Slideshow.setTimer():this.Slideshow.deactivate())}},{key:"onChange",value:function(){this.update(),this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}},{key:"onDone",value:function(e,V){V.index===e.getSlide().index&&(this.update(),this.Slideshow&&this.Slideshow.isActive()&&(this.fancybox.option("infinite")||V.index!==this.fancybox.Carousel.slides.length-1?this.Slideshow.setTimer():this.Slideshow.deactivate()))}},{key:"onRefresh",value:function(e){e&&e.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||e&&"done"!==e.state||this.Slideshow.deactivate())}},{key:"onKeydown",value:function(e,V,g){" "===V&&(this.Slideshow.toggle(),g.preventDefault())}},{key:"onClosing",value:function(){this.Slideshow&&this.Slideshow.deactivate(),document.removeEventListener("fullscreenchange",this.onFsChange)}},{key:"createElement",value:function(e){var V,g;("div"===e.type?V=document.createElement("div"):(V=document.createElement("link"===e.type?"a":"button")).classList.add("carousel__button"),V.innerHTML=e.html,V.setAttribute("tabindex",e.tabindex||0),e.class)&&(g=V.classList).add.apply(g,M(e.class.split(" ")));return e.label&&V.setAttribute("title",this.fancybox.localize("{{".concat(e.label,"}}"))),e.click&&V.addEventListener("click",e.click.bind(this)),"prev"===e.id&&V.setAttribute("data-fancybox-prev",""),"next"===e.id&&V.setAttribute("data-fancybox-next",""),V}},{key:"build",value:function(){var e=this;this.cleanup();var V,g=this.fancybox.option("Toolbar.items"),R=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],gD=this.fancybox.plugins.Thumbs,c=cD(this.fancybox.option("Toolbar.display"));try{var I=function(){var c=V.value,I=void 0,f=void 0;if(fX(c)?(I=c.id,f=h({},g[I],c)):f=g[I=c],["counter","next","prev","slideshow"].includes(I)&&e.fancybox.items.length<2)return"continue";if("fullscreen"===I){if(!document.fullscreenEnabled||window.fullScreen)return"continue";document.addEventListener("fullscreenchange",e.onFsChange)}if("thumbs"===I&&(!gD||"disabled"===gD.state))return"continue";if(!f)return"continue";var Vc=f.position||"right",N=R.find(function(e){return e.position===Vc});N&&N.items.push(f)};for(c.s();!(V=c.n()).done;)I()}catch(e){c.e(e)}finally{c.f()}var f=document.createElement("div");f.classList.add("fancybox__toolbar");for(var Vc=0,N=R;Vc<N.length;Vc++){var fB=N[Vc];if(fB.items.length){var a=document.createElement("div");a.classList.add("fancybox__toolbar__items"),a.classList.add("fancybox__toolbar__items--".concat(fB.position));var S,aV=cD(fB.items);try{for(aV.s();!(S=aV.n()).done;){var b=S.value;a.appendChild(this.createElement(b))}}catch(e){aV.e(e)}finally{aV.f()}f.appendChild(a)}}this.fancybox.$carousel.parentNode.insertBefore(f,this.fancybox.$carousel),this.$container=f}},{key:"update",value:function(){var e,V=this.fancybox.getSlide(),g=V.index,R=this.fancybox.items.length,gD=V.downloadSrc||("image"!==V.type||V.error?null:V.src),c=cD(this.fancybox.$container.querySelectorAll("a.fancybox__button--download"));try{for(c.s();!(e=c.n()).done;){var I=e.value;gD?(I.removeAttribute("disabled"),I.setAttribute("href",gD),I.setAttribute("download",gD),I.setAttribute("target","_blank")):(I.setAttribute("disabled",""),I.removeAttribute("href"),I.removeAttribute("download"))}}catch(e){c.e(e)}finally{c.f()}var f,Vc=V.Panzoom,N=Vc&&Vc.option("maxScale")>Vc.option("baseScale"),fB=cD(this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"));try{for(fB.s();!(f=fB.n()).done;){var a=f.value;N?a.removeAttribute("disabled"):a.setAttribute("disabled","")}}catch(e){fB.e(e)}finally{fB.f()}var S,aV=cD(this.fancybox.$container.querySelectorAll("[data-fancybox-index]"));try{for(aV.s();!(S=aV.n()).done;){S.value.innerHTML=V.index+1}}catch(e){aV.e(e)}finally{aV.f()}var b,M=cD(this.fancybox.$container.querySelectorAll("[data-fancybox-count]"));try{for(M.s();!(b=M.n()).done;){b.value.innerHTML=R}}catch(e){M.e(e)}finally{M.f()}if(!this.fancybox.option("infinite")){var cg,aA=cD(this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"));try{for(aA.s();!(cg=aA.n()).done;){var fX=cg.value;0===g?fX.setAttribute("disabled",""):fX.removeAttribute("disabled")}}catch(e){aA.e(e)}finally{aA.f()}var h,af=cD(this.fancybox.$container.querySelectorAll("[data-fancybox-next]"));try{for(af.s();!(h=af.n()).done;){var T=h.value;g===R-1?T.setAttribute("disabled",""):T.removeAttribute("disabled")}}catch(e){af.e(e)}finally{af.f()}}}},{key:"cleanup",value:function(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer(),this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),e}();w.defaults=v;var x={ScrollLock:m,Thumbs:n,Html:p,Toolbar:w,Image:q,Hash:s},y={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="25 25 50 50" tabindex="-1"><circle cx="50" cy="50" r="20"/></svg>',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},z=0,A=function(e){Vc(g,e);var V=aV(g);function g(e){var R,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return gD(this,g),(R=V.call(this,h(!0,{},y,c))).bindHandlers(),R.state="init",R.setItems(e),R.attachPlugins(g.Plugins),R.trigger("init"),!0===R.option("hideScrollbar")&&R.hideScrollbar(),R.initLayout(),R.initCarousel(),R.attachEvents(),R.trigger("prepare"),R.state="ready",R.trigger("ready"),R.$container.setAttribute("aria-hidden","false"),R.option("trapFocus")&&R.focus(),R}return I(g,[{key:"bindHandlers",value:function(){for(var e=0,V=["onMousedown","onKeydown","onClick","onCreateSlide","onTouchMove","onTouchEnd","onTransform"];e<V.length;e++){var g=V[e];this[g]=this[g].bind(this)}}},{key:"attachEvents",value:function(){document.addEventListener("mousedown",this.onMousedown),document.addEventListener("keydown",this.onKeydown),this.$container.addEventListener("click",this.onClick)}},{key:"detachEvents",value:function(){document.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("keydown",this.onKeydown),this.$container.removeEventListener("click",this.onClick)}},{key:"initLayout",value:function(){var e=this;this.$root=this.option("parentEl")||document.body;var V=this.option("template.main");V&&(this.$root.insertAdjacentHTML("beforeend",this.localize(V)),this.$container=this.$root.querySelector(".fancybox__container")),this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container)),this.$container.onscroll=function(){return e.$container.scrollLeft=0,!1},Object.entries({class:"fancybox__container",role:"dialog","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(function(V){var g;return(g=e.$container).setAttribute.apply(g,M(V))}),this.option("animated")&&this.$container.classList.add("is-animated"),this.$backdrop=this.$container.querySelector(".fancybox__backdrop"),this.$backdrop||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop)),this.$carousel=this.$container.querySelector(".fancybox__carousel"),this.$carousel||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel)),this.$container.Fancybox=this,this.id=this.$container.getAttribute("id"),this.id||(this.id=this.options.id||++z,this.$container.setAttribute("id","fancybox-"+this.id));var g,R=this.options.mainClass;R&&(g=this.$container.classList).add.apply(g,M(R.split(" ")));return document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}},{key:"setItems",value:function(e){var V,g=[],R=cD(e);try{for(R.s();!(V=R.n()).done;){var gD=V.value,c=gD.$trigger;if(c){var I=c.dataset||{};gD.src=I.src||c.getAttribute("href")||gD.src,gD.type=I.type||gD.type,!gD.src&&c instanceof HTMLImageElement&&(gD.src=c.currentSrc||gD.$trigger.src)}var f=gD.$thumb;if(!f){var Vc=gD.$trigger&&gD.$trigger.origTarget;Vc&&(f=Vc instanceof HTMLImageElement?Vc:Vc.querySelector("img")),!f&&gD.$trigger&&(f=gD.$trigger instanceof HTMLImageElement?gD.$trigger:gD.$trigger.querySelector("img"))}gD.$thumb=f||null;var N=gD.thumb;!N&&gD.$thumb&&(N=f.currentSrc||f.src),N||"image"!==gD.type||(N=gD.src),gD.thumb=N||null,gD.caption=gD.caption||"",g.push(gD)}}catch(e){R.e(e)}finally{R.f()}this.items=g}},{key:"initCarousel",value:function(){var e=this;return this.Carousel=new k(this.$carousel,h(!0,{},{classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:function(){return e.Carousel&&e.Carousel.pages&&e.Carousel.pages.length<2&&!e.options.dragToClose},lockAxis:function(){if(e.Carousel){var V="x";return e.options.dragToClose&&(V+="y"),V}}},on:{"*":function(V){for(var g=arguments.length,R=new Array(g>1?g-1:0),gD=1;gD<g;gD++)R[gD-1]=arguments[gD];return e.trigger.apply(e,["Carousel.".concat(V)].concat(R))},init:function(V){return e.Carousel=V},createSlide:this.onCreateSlide}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}},{key:"onCreateSlide",value:function(e,V){var g=V.caption||"";if("function"==typeof this.options.caption&&(g=this.options.caption.call(this,this,this.Carousel,V)),"string"==typeof g&&g.length){var R=document.createElement("div"),gD="fancybox__caption_".concat(this.id,"_").concat(V.index);R.className="fancybox__caption",R.innerHTML=g,R.setAttribute("id",gD),V.$caption=V.$el.appendChild(R),V.$el.classList.add("has-caption"),V.$el.setAttribute("aria-labelledby",gD)}}},{key:"onClick",value:function(e){if(!e.defaultPrevented&&(!e.target.closest(".fancybox__content")&&!window.getSelection().toString().length&&!1!==this.trigger("click",e)))switch(this.option("click")){case"close":this.close();break;case"next":this.next()}}},{key:"onTouchMove",value:function(){var e=this.getSlide().Panzoom;return!e||1===e.content.scale}},{key:"onTouchEnd",value:function(e){var V=e.dragOffset.y;Math.abs(V)>=150||Math.abs(V)>=35&&e.dragOffset.time<350?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut".concat(e.content.y<0?"Up":"Down")),this.close()):"y"===e.lockAxis&&e.panTo({y:0})}},{key:"onTransform",value:function(e){if(this.$backdrop){var V=Math.abs(e.content.y),g=V<1?"":Math.max(.33,Math.min(1,1-V/e.content.fitHeight*1.5));this.$container.style.setProperty("--fancybox-ts",g?"0s":""),this.$container.style.setProperty("--fancybox-opacity",g)}}},{key:"onMousedown",value:function(){document.body.classList.add("is-using-mouse")}},{key:"onKeydown",value:function(e){if(g.getInstance().id===this.id){document.body.classList.remove("is-using-mouse");var V=e.key;if("Tab"===V&&this.option("trapFocus"))this.focus(e);else{var R=this.option("keyboard");if(R&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){var gD=document.activeElement&&document.activeElement.classList,c=gD&&gD.contains("carousel__button");if("Escape"!==V&&!c)if(e.target.isContentEditable||-1!==["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(e.target.nodeName))return;if(!1!==this.trigger("keydown",V,e)){var I=R[V];"function"==typeof this[I]&&this[I]()}}}}}},{key:"getSlide",value:function(){var e=this.Carousel;if(!e)return null;var V=null===e.page?e.option("initialPage"):e.page,g=e.pages||[];return g.length&&g[V]?g[V].slides[0]:null}},{key:"focus",value:function(e){var V;void 0===g.preventScrollSupported&&(g.preventScrollSupported=(V=!1,document.createElement("div").focus({get preventScroll(){return V=!0,!1}}),V));var R=function(e){e.setActive?e.setActive():g.preventScrollSupported?e.focus({preventScroll:!0}):e.focus()};if(!(["init","closing","customClosing","destroy"].indexOf(this.state)>-1)){e&&e.preventDefault();var gD=this.getSlide().$el;if(gD){gD.tabIndex=0;var c,I=[],f=cD([].slice.call(this.$container.querySelectorAll(["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'])));try{for(f.s();!(c=f.n()).done;){var Vc=c.value;if(!Vc.classList||!Vc.classList.contains("fancybox__slide")){var N=Vc.closest(".fancybox__slide");N?N===gD&&I[Vc.hasAttribute("autofocus")?"unshift":"push"](Vc):I.push(Vc)}}}catch(e){f.e(e)}finally{f.f()}if(I.length){this.Carousel.pages.length>1&&I.push(gD),I.sort(function(e,V){return e.tabIndex>V.tabIndex?-1:e.tabIndex<V.tabIndex?1:0});var fB=I.indexOf(document.activeElement),a=e&&!e.shiftKey,S=e&&e.shiftKey;return a?fB===I.length-1?R(I[0]):R(I[fB+1]):S?R(0===fB?I[I.length-1]:I[fB-1]):fB<0?R(I[0]):void 0}}}}},{key:"hideScrollbar",value:function(){if(l){var e=window.innerWidth-document.documentElement.getBoundingClientRect().width,V="fancybox-style-noscroll",g=document.getElementById(V);g||e>0&&((g=document.createElement("style")).id=V,g.type="text/css",g.innerHTML=".compensate-for-scrollbar {padding-right: ".concat(e,";}"),document.getElementsByTagName("head")[0].appendChild(g),document.body.classList.add("compensate-for-scrollbar"))}}},{key:"revealScrollbar",value:function(){document.body.classList.remove("compensate-for-scrollbar");var e=document.getElementById("fancybox-style-noscroll");e&&e.remove()}},{key:"clearContent",value:function(e){this.Carousel.trigger("removeSlide",e),e.$content&&(e.$content.remove(),e.$content=null),e._className&&e.$el.classList.remove(e._className)}},{key:"setContent",value:function(e,V){var g,R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},gD=e.$el;if(V instanceof HTMLElement?["img","iframe","video","audio"].indexOf(V.nodeName.toLowerCase())>-1?(g=document.createElement("div")).appendChild(V):g=V:(g=document.createElement("div")).innerHTML=V,!(g instanceof Element))throw new Error("Element expected");return e._className="has-".concat(R.suffix||e.type||"unknown"),gD.classList.add(e._className),g.classList.add("fancybox__content"),"none"!==g.style.display&&"none"!==window.getComputedStyle(g).getPropertyValue("display")||(g.style.display="flex"),e.id&&g.setAttribute("id",e.id),e.$content=g,gD.prepend(g),this.manageCloseButton(e),"loading"!==e.state&&this.revealContent(e),g}},{key:"manageCloseButton",value:function(e){var V=this,g=void 0===e.closeButton?this.option("closeButton"):e.closeButton;if(g&&("top"!==g||!this.$closeButton)){var R=document.createElement("button");R.classList.add("carousel__button","is-close"),R.setAttribute("title",this.options.l10n.CLOSE),R.innerHTML=this.option("template.closeButton"),R.addEventListener("click",function(e){return V.close(e)}),"inside"===g?(e.$closeButton&&e.$closeButton.remove(),e.$closeButton=e.$content.appendChild(R)):this.$closeButton=this.$container.insertBefore(R,this.$container.firstChild)}}},{key:"revealContent",value:function(e){var V=this;this.trigger("reveal",e),e.$content.style.visibility="";var g=!1;e.error||"loading"===e.state||null!==this.Carousel.prevPage||e.index!==this.options.startIndex||(g=void 0===e.showClass?this.option("showClass"):e.showClass),g?(e.state="animating",this.animateCSS(e.$content,g,function(){V.done(e)})):this.done(e)}},{key:"animateCSS",value:function(e,V,g){if(e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),e&&V){e.addEventListener("animationend",function R(gD){gD.currentTarget===this&&(e.removeEventListener("animationend",R),g&&g(),e.classList.remove(V))}),e.classList.add(V)}else"function"==typeof g&&g()}},{key:"done",value:function(e){e.state="done",this.trigger("done",e);var V=this.getSlide();V&&e.index===V.index&&this.option("autoFocus")&&this.focus()}},{key:"setError",value:function(e,V){e.error=V,this.hideLoading(e),this.clearContent(e);var g=document.createElement("div");g.classList.add("fancybox-error"),g.innerHTML=this.localize(V||"<p>{{ERROR}}</p>"),this.setContent(e,g,{suffix:"error"})}},{key:"showLoading",value:function(e){var V=this;e.state="loading",e.$el.classList.add("is-loading");var g=e.$el.querySelector(".fancybox__spinner");g||((g=document.createElement("div")).classList.add("fancybox__spinner"),g.innerHTML=this.option("template.spinner"),g.addEventListener("click",function(){V.Carousel.Panzoom.velocity||V.close()}),e.$el.prepend(g))}},{key:"hideLoading",value:function(e){var V=e.$el&&e.$el.querySelector(".fancybox__spinner");V&&(V.remove(),e.$el.classList.remove("is-loading")),"loading"===e.state&&(this.trigger("load",e),e.state="ready")}},{key:"next",value:function(){var e=this.Carousel;e&&e.pages.length>1&&e.slideNext()}},{key:"prev",value:function(){var e=this.Carousel;e&&e.pages.length>1&&e.slidePrev()}},{key:"jumpTo",value:function(){var e;this.Carousel&&(e=this.Carousel).slideTo.apply(e,arguments)}},{key:"close",value:function(e){var V=this;if(e&&e.preventDefault(),!(["closing","customClosing","destroy"].indexOf(this.state)>-1)&&!1!==this.trigger("shouldClose",e)&&(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",e),"destroy"!==this.state)){this.$container.setAttribute("aria-hidden","true"),this.$container.classList.add("is-closing");var g=this.getSlide();if(this.Carousel.slides.forEach(function(e){e.$content&&e.index!==g.index&&V.Carousel.trigger("removeSlide",e)}),"closing"===this.state){var R=void 0===g.hideClass?this.option("hideClass"):g.hideClass;this.animateCSS(g.$content,R,function(){V.destroy()},!0)}}}},{key:"destroy",value:function(){this.state="destroy",this.trigger("destroy");var e=this.option("placeFocusBack")?this.getSlide().$trigger:null;if(this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,e)if(g.preventScrollSupported)e.focus({preventScroll:!0});else{var V=document.body.scrollTop;e.focus(),document.body.scrollTop=V}var R=g.getInstance();R?R.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}}],[{key:"show",value:function(e){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new g(e,V)}},{key:"fromEvent",value:function(e){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.defaultPrevented&&!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)){var R,gD,c,I=e.target;if((I.matches("[data-fancybox-trigger]")||(I=I.closest("[data-fancybox-trigger]")))&&(R=I&&I.dataset&&I.dataset.fancyboxTrigger),R){var f=document.querySelectorAll('[data-fancybox="'.concat(R,'"]')),Vc=parseInt(I.dataset.fancyboxIndex,10)||0;I=f.length?f[Vc]:I}I||(I=e.target),Array.from(g.openers.keys()).reverse().some(function(V){if((c=I).matches(V)||(c=c.closest(V)))return e.preventDefault(),gD=V,!0});var N=!1;if(gD){V.event=e,V.target=c,c.origTarget=e.target,N=g.fromOpener(gD,V);var fB=g.getInstance();fB&&"ready"===fB.state&&e.detail&&document.body.classList.add("is-using-mouse")}return N}}},{key:"fromOpener",value:function(e){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=function(e){for(var V=["false","0","no","null","undefined"],g=["true","1","yes"],R=Object.assign({},e.dataset),gD=0,c=Object.entries(R);gD<c.length;gD++){var I=b(c[gD],2),f=I[0],Vc=I[1];if("string"==typeof Vc||Vc instanceof String)if(V.indexOf(Vc)>-1)R[f]=!1;else if(g.indexOf(R[f])>-1)R[f]=!0;else try{R[f]=JSON.parse(Vc)}catch(e){R[f]=Vc}}return delete R.fancybox,delete R.type,e instanceof Element&&(R.$trigger=e),R},gD=[],c=V.startIndex||0,I=V.target||null,f=void 0===(V=h({},V,g.openers.get(e))).groupAttr?"data-fancybox":V.groupAttr,Vc=f&&I&&I.getAttribute("".concat(f)),N=void 0!==V.groupAll&&V.groupAll;if(N||Vc?(gD=[].slice.call(document.querySelectorAll(e)),N||(gD=gD.filter(function(e){return e.getAttribute("".concat(f))===Vc}))):gD=[I],!gD.length)return!1;var fB=g.getInstance();return!(fB&&gD.indexOf(fB.options.$trigger)>-1)&&(c=I?gD.indexOf(I):c,new g(gD=gD.map(R),h({},V,{startIndex:c,$trigger:I})))}},{key:"bind",value:function(e){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l){if(!g.openers.size){document.body.addEventListener("click",g.fromEvent,!1);for(var R=0,gD=Object.entries(g.Plugins||{});R<gD.length;R++){var c=b(gD[R],2);c[0];var I=c[1];I.Fancybox=this,"function"==typeof I.create&&I.create()}}g.openers.set(e,V)}}},{key:"unbind",value:function(e){g.openers.delete(e),g.openers.size||g.destroy()}},{key:"destroy",value:function(){for(var e;e=g.getInstance();)e.destroy();g.openers=new Map,document.body.removeEventListener("click",g.fromEvent,!1)}},{key:"getInstance",value:function(e){var V,g=cD(e?[document.getElementById("fancybox-".concat(e))]:Array.from(document.querySelectorAll(".fancybox__container")).reverse());try{for(g.s();!(V=g.n()).done;){var R=V.value,gD=R&&R.Fancybox;if(gD&&"closing"!==gD.state&&"customClosing"!==gD.state)return gD}}catch(e){g.e(e)}finally{g.f()}return null}},{key:"close",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],V=null;V=g.getInstance();)if(V.close(),!e)return}}]),g}(gJ);A.version="4.0.0-beta.2",A.defaults=y,A.openers=new Map,A.Plugins=x,A.bind("[data-fancybox]"),e.Carousel=k,e.Fancybox=A,e.Panzoom=fZ});